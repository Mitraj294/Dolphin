(()=>{var e={35:(e,t,s)=>{"use strict";e.exports=s.p+"img/Users+PermissionsOn.a9fc1c9d.svg"},223:(e,t,s)=>{"use strict";e.exports=s.p+"img/Training&ResourcesOff.3904f6cd.svg"},359:(e,t,s)=>{"use strict";e.exports=s.p+"img/Organizations+AdminsOff.1c8f2fa5.svg"},477:()=>{},932:(e,t,s)=>{"use strict";function a(e){if(!e)return"";const t=String(e).toLowerCase(),s={superadmin:"Super Admin",organizationadmin:"Organization Admin",dolphinadmin:"Dolphin Admin",salesperson:"Sales Person",user:"User"};return s[t]||String(e).replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/[_-]+/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}s.d(t,{W:()=>a})},1232:(e,t,s)=>{"use strict";s.d(t,{A:()=>$});var a=s(641),o=s(33),i=s(3751),n=s(3130),r=s(8634),l=s(5753);const d={class:"navbar-left"},u={class:"navbar-page"},c={class:"navbar-actions"},p=["width","height"],m={key:0,class:"navbar-badge"},h={class:"navbar-avatar"},g={key:0,src:r,alt:"Open",class:"navbar-chevron"},f={key:1,src:l,alt:"Close",class:"navbar-chevron"},b={key:0,class:"navbar-dropdown",ref:"dropdown"},v={class:"navbar-dropdown-item0"},y={class:"navbar-dropdown-item0"};function k(e,t,s,r,l,k){const w=(0,a.g2)("ConfirmDialog"),_=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(w),(0,a.Lk)("nav",(0,a.v6)(e.$attrs,{class:["navbar",{"sidebar-expanded":s.sidebarExpanded}]}),[(0,a.Lk)("div",d,[t[6]||(t[6]=(0,a.Lk)("div",{class:"sidebar-logo1"},[(0,a.Lk)("img",{src:n,alt:"Logo",style:{width:"25px",height:"25px","object-fit":"contain"}})],-1)),(0,a.Lk)("span",u,(0,o.v_)(k.pageTitle),1)]),(0,a.Lk)("div",c,[["superadmin","salesperson"].includes(l.roleName)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(_,{key:0,to:"/get-notification",style:{display:"flex","align-items":"center",position:"relative"}},{default:(0,a.k6)(()=>[(0,a.Lk)("span",{style:(0,o.Tr)({height:l.isVerySmallScreen?"28px":"36px",width:l.isVerySmallScreen?"26px":"34px",verticalAlign:"middle",marginRight:"8px",cursor:"pointer",display:"inline-block",position:"relative"})},[((0,a.uX)(),(0,a.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",width:l.isVerySmallScreen?26:34,height:l.isVerySmallScreen?28:36,viewBox:"0 0 256 256"},[...t[7]||(t[7]=[(0,a.Lk)("g",{style:{stroke:"none",fill:"none"},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},[(0,a.Lk)("path",{d:"M 83.25 74.548 H 6.75 c -1.536 0 -2.864 -0.988 -3.306 -2.457 c -0.441 -1.468 0.122 -3.022 1.401 -3.868 c 0.896 -0.594 1.954 -1.152 3.233 -1.707 c 5.52 -2.514 6.42 -16.025 7.144 -26.882 c 0.182 -2.74 0.355 -5.327 0.59 -7.664 c 1.926 -12.752 8.052 -20.942 18.223 -24.424 C 35.767 3.067 40.169 0 45 0 s 9.233 3.067 10.964 7.546 c 10.171 3.482 16.298 11.671 18.214 24.352 c 0.245 2.409 0.416 4.996 0.6 7.736 c 0.723 10.857 1.624 24.368 7.168 26.893 c 1.255 0.544 2.313 1.102 3.21 1.696 c 1.279 0.846 1.842 2.4 1.4 3.868 C 86.114 73.56 84.785 74.548 83.25 74.548 z M 45 2.934 c -3.818 0 -7.279 2.556 -8.416 6.215 l -0.228 0.733 l -0.732 0.231 c -9.568 3.018 -15.096 10.287 -16.9 22.224 c -0.221 2.216 -0.392 4.779 -0.573 7.493 c -0.816 12.242 -1.74 26.117 -8.88 29.368 c -1.129 0.49 -2.064 0.982 -2.806 1.473 c -0.265 0.175 -0.26 0.409 -0.21 0.575 c 0.051 0.168 0.177 0.368 0.496 0.368 h 76.5 c 0.318 0 0.445 -0.2 0.496 -0.368 c 0.05 -0.166 0.054 -0.4 -0.209 -0.575 h -0.001 c -0.741 -0.491 -1.677 -0.983 -2.782 -1.462 c -7.163 -3.261 -8.088 -17.137 -8.905 -29.379 c -0.181 -2.714 -0.352 -5.277 -0.582 -7.565 c -1.795 -11.864 -7.323 -19.134 -16.891 -22.151 l -0.732 -0.231 L 53.416 9.15 C 52.279 5.49 48.818 2.934 45 2.934 z",style:{fill:"rgb(0, 0, 0)"}}),(0,a.Lk)("path",{d:"M 33.257 78.292 C 33.277 84.75 38.536 90 45 90 c 6.463 0 11.723 -5.25 11.743 -11.708 H 33.257 z M 45 87.066 c -3.816 0 -7.063 -2.443 -8.285 -5.843 h 16.57 C 52.063 84.623 48.816 87.066 45 87.066 z",style:{fill:"rgb(0, 0, 0)"}})],-1)])],8,p)),l.notificationCount>0?((0,a.uX)(),(0,a.CE)("span",m,(0,o.v_)(l.notificationCount),1)):(0,a.Q3)("",!0)],4)]),_:1})),(0,a.Lk)("div",{class:"navbar-profile-btn",ref:"dropdownWrapper",onClick:t[4]||(t[4]=(...e)=>k.toggleDropdown&&k.toggleDropdown(...e)),onKeydown:t[5]||(t[5]=(0,i.jR)((...e)=>k.toggleDropdown&&k.toggleDropdown(...e),["enter"]))},[(0,a.Lk)("span",h,(0,o.v_)(k.displayName.charAt(0)),1),(0,a.bo)((0,a.Lk)("span",{class:"navbar-username"},(0,o.v_)(k.displayName),513),[[i.aG,!l.isVerySmallScreen]]),l.dropdownOpen?((0,a.uX)(),(0,a.CE)("img",f)):((0,a.uX)(),(0,a.CE)("img",g)),(0,a.bF)(i.eB,{name:"fade"},{default:(0,a.k6)(()=>[l.dropdownOpen?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.Lk)("div",v,[t[8]||(t[8]=(0,a.Lk)("i",{class:"fas fa-user"},null,-1)),l.roleName?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"navbar-dropdown-item",onClick:t[0]||(t[0]=(...e)=>k.goToProfile&&k.goToProfile(...e))}," Profile ")):(0,a.Q3)("",!0)]),["superadmin","dolphinadmin","salesperson"].includes(l.roleName)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:"navbar-dropdown-item0",onClick:t[2]||(t[2]=t=>{e.$router.push({name:"ManageSubscription"}),l.dropdownOpen=!1})},[t[9]||(t[9]=(0,a.Lk)("i",{class:"fas fa-credit-card"},null,-1)),["superadmin","dolphinadmin","salesperson"].includes(l.roleName)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:"navbar-dropdown-item",onClick:t[1]||(t[1]=t=>{e.$router.push({name:"ManageSubscription"}),l.dropdownOpen=!1})}," Manage Subscriptions "))])),(0,a.Lk)("div",y,[t[10]||(t[10]=(0,a.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1)),(0,a.Lk)("div",{class:"navbar-dropdown-item",onClick:t[3]||(t[3]=(...e)=>k.confirmLogout&&k.confirmLogout(...e))}," Logout ")])],512)):(0,a.Q3)("",!0)]),_:1})],544)])],16)],64)}var w=s(4220),_=s(3193),L=s(4335),A=s(3709),S=s(5094);const C={name:"Navbar",inheritAttrs:!1,props:{sidebarExpanded:{type:Boolean,default:!1}},components:{ConfirmDialog:A.A},data(){return{dropdownOpen:!1,overridePageTitle:null,roleName:w.A.getRole(),isVerySmallScreen:!1,notificationCount:0,userFirstName:_["default"].get("first_name")||"",userLastName:_["default"].get("last_name")||"",userName:_["default"].get("userName")||"",userEmail:_["default"].get("email")||"",leadNameCache:{},leadNameFetching:{},orgNameCache:{},orgNameFetching:{},assessmentNameCache:{},assessmentNameFetching:{},isNavbarAlive:!1,_boundFetchUnread:null,_boundUpdateNotificationCount:null,_boundAuthUpdated:null}},setup(){const e=(0,S.S)();return{confirm:e}},computed:{pageTitle(){if(this.overridePageTitle)return this.overridePageTitle;const e=this.$route&&this.$route.name;return this.titleForRoute(e)},displayName(){return this.userFirstName&&this.userFirstName.trim()||this.userLastName&&this.userLastName.trim()?`${this.userFirstName?this.userFirstName.trim():""}${this.userLastName&&this.userLastName.trim()?" "+this.userLastName.trim():""}`.trim():this.userName&&this.userName.trim()?this.userName.trim():this.userEmail&&this.userEmail.trim()?this.userEmail.trim():"User"},role(){return w.A.getRole()}},methods:{titleForRoute(e){if(!e)return this.$route&&this.$route.name?this.$route.name:"";const t={UserPermission:"Users + Permission",AddUser:"Add User",ScheduleClassTraining:"Schedule Classes/Training",OrganizationDetail:"Organization Details",OrganizationEdit:"Organization Details",SendAssessment:"Send Assessment",ScheduleDemo:"Schedule Demo",Assessments:"Assessments",TrainingResources:"Training & Resources",Notifications:"Notification",GetNotification:"Notification",Organizations:"Organizations",Leads:"Leads",ThankYou:"Thank You",Login:"Login",LeadCapture:"Lead Capture",ManageSubscription:"Manage Subscription",SubscriptionPlans:"Subscription Plans",MemberListing:"Member Listing",Members:"Member Listing",Profile:"Profile"};return t[e]?t[e]:"LeadDetail"===e?this.handleLeadDetailTitle():"EditLead"===e?this.handleEditLeadTitle():"BillingDetails"===e?this.handleBillingDetailsTitle():"AssessmentSummary"===e?this.handleAssessmentSummaryTitle():"MyOrganization"===e?this.handleMyOrganizationTitle():this.$route&&this.$route.name?this.$route.name:""},handleLeadDetailTitle(){const e=this.$route&&this.$route.query&&this.$route.query.contact||"";return e?`${e} Details`:"Lead Details"},handleEditLeadTitle(){const e=this.$route&&(this.$route.params&&this.$route.params.id||this.$route.query&&this.$route.query.id)||null;if(!e)return"Edit Lead";const t=this.leadNameCache[e];return t?`Edit Lead : ${t}`:(this.leadNameFetching[e]||this.isNavbarAlive&&this.fetchLeadName(e),"Edit Lead")},handleBillingDetailsTitle(){const e=this.$route&&this.$route.query&&this.$route.query.orgName||"";return e?`${e} Organization Details`:"Organization Details"},handleAssessmentSummaryTitle(){const e=this.$route&&this.$route.params&&this.$route.params.assessment||this.$route&&this.$route.query&&this.$route.query.assessment||null;if(e&&e.name)return console.debug("Navbar: using assessment from route params for title",e),`Assessment Summary :  ${e.name} `;const t=this.$route&&(this.$route.params&&this.$route.params.assessmentId||this.$route.params&&this.$route.params.id)||null;if(t){const e=this.assessmentNameCache[t];return e?(console.debug(`Navbar: using cached assessment name for id=${t}`),`Assessment Summary :  ${e}`):this.assessmentNameFetching[t]?(console.debug(`Navbar: assessment name fetch already in progress for id=${t}`),"Assessment Summary"):(this.isNavbarAlive&&this.fetchAssessmentName(t),"Assessment Summary")}return"Assessment Summary"},handleMyOrganizationTitle(){const e=_["default"].get("organization_name");return"My Organization"+(e?": "+e:"")},_debounce(e,t=200){let s=null;return(...a)=>{s&&clearTimeout(s),s=setTimeout(()=>e.apply(this,a),t)}},async fetchUnreadCount(){try{let e=_["default"].get("authToken");e&&"object"===typeof e&&e.token&&(e=e.token),"string"!==typeof e&&(e="");const t=e?{headers:{Authorization:`Bearer ${e}`}}:{},s=await L.A.get("/api/notifications/unread",t);let a=0;s&&s.data&&(Array.isArray(s.data)?a=s.data.length:Array.isArray(s.data.unread)?a=s.data.unread.length:Array.isArray(s.data.notifications)?a=s.data.notifications.filter(e=>!e.read_at).length:console.warn("Unexpected response format for unread notifications",s.data)),this.notificationCount=a,_["default"].set("notificationCount",String(a))}catch(e){console.warn("Failed to fetch initial unread count",e)}},updateUserInfo(){this.userFirstName=_["default"].get("first_name")||"",this.userLastName=_["default"].get("last_name")||"",this.userName=_["default"].get("userName")||"",this.userEmail=_["default"].get("email")||""},async fetchCurrentUser(){try{const e=_["default"].get("first_name")||"",t=_["default"].get("last_name")||"",s=_["default"].get("userName")||"",a=_["default"].get("email")||"";if(e.trim()||t.trim()||s.trim()||a.trim())return;let o=_["default"].get("authToken");o&&"object"===typeof o&&o.token&&(o=o.token);const i=o?{headers:{Authorization:`Bearer ${o}`}}:{},n="http://127.0.0.1:8000",r=await L.A.get(`${n}/api/user`,i),l=r?.data||null;if(!l)return;const d=l.first_name||l.firstName||"",u=l.last_name||l.lastName||"",c=l.userName||l.username||l.name||"",p=l.email||"";_["default"].set("first_name",d||""),_["default"].set("last_name",u||""),_["default"].set("userName",c||""),_["default"].set("email",p||""),this.isNavbarAlive&&this.updateUserInfo()}catch(e){console.debug("Navbar: fetchCurrentUser failed",e&&e.message?e.message:e)}},async fetchLeadName(e){if(!e)return null;if(!this.leadNameFetching[e]){this.leadNameFetching[e]=!0;try{const t="http://127.0.0.1:8000";let s=_["default"].get("authToken");s&&"object"===typeof s&&s.token&&(s=s.token);const a=s?{headers:{Authorization:`Bearer ${s}`}}:{},o=await L.A.get(`${t}/api/leads/${e}`,a),i=o&&o.data?o.data:null,n=i&&i.lead?i.lead:i;if(n){const t=((n.first_name||"")+" "+(n.last_name||"")).trim()||n.contact||n.email||"";t&&this.isNavbarAlive&&(this.leadNameCache[e]=t)}}catch(t){console.warn(`Failed to fetch lead name for id=${e}`,t)}finally{this.isNavbarAlive&&delete this.leadNameFetching[e]}return null}},async fetchSummary(){if(this.assessmentId)try{const e="http://127.0.0.1:8000",t=await L.A.get(`${e}/api/assessment/${this.assessmentId}/summary`),s=t.data;if(s.assessment&&s.assessment.name){const e=s.assessment.name;this.$root&&this.$root.$emit&&this.$root.$emit("page-title-override",`Assessment ${e} Summary`)}this.rows=(s.members||[]).map(e=>({name:e.name||(e.member_id?`Member #${e.member_id}`:"Unknown"),result:e.answers&&e.answers.length>0?"Submitted":"Pending",assessment:(e.answers||[]).map(e=>({question:e.question,answer:e.answer}))})),this.summary=s.summary||{total_sent:0,submitted:0,pending:0}}catch(e){this.rows=[],this.summary={total_sent:0,submitted:0,pending:0},console.error("Failed to fetch assessment summary:",e)}},_getAuthConfig(){let e=_["default"].get("authToken");return e&&"object"===typeof e&&e.token&&(e=e.token),"string"!==typeof e&&(e=""),e?{headers:{Authorization:`Bearer ${e}`}}:{}},async _fetchAssessmentSummary(e,t){const s="http://127.0.0.1:8000",a=await L.A.get(`${s}/api/assessment/${e}/summary`,t);return a&&a.data?a.data:null},_processAssessmentName(e,t){t&&this.isNavbarAlive&&(this.assessmentNameCache[e]=t,console.debug(`Navbar: cached assessment name for id=${e} -> ${t}`),this.$root&&this.$root.$emit&&this.$root.$emit("page-title-override",`Assessment ${t} Summary`))},async fetchAssessmentName(e){if(!e)return null;if(!this.assessmentNameFetching[e]){this.assessmentNameFetching[e]=!0,console.debug(`Navbar: fetchAssessmentName start id=${e}`);try{const t=this._getAuthConfig(),s=await this._fetchAssessmentSummary(e,t),a=s&&s.assessment&&s.assessment.name?s.assessment.name:null;this._processAssessmentName(e,a)}catch(t){console.warn(`Navbar: fetchAssessmentName failed for id=${e}`,t&&t.message?t.message:t)}finally{this.isNavbarAlive&&delete this.assessmentNameFetching[e]}return null}},toggleDropdown(){this.dropdownOpen=!this.dropdownOpen},handleClickOutside(e){this.dropdownOpen&&this.$refs.dropdownWrapper&&!this.$refs.dropdownWrapper.contains(e.target)&&(this.dropdownOpen=!1)},confirmLogout(e){e.stopPropagation(),this.dropdownOpen=!1,this.confirm.require({message:"Are you sure you want to logout?",header:"Confirm Logout",icon:"pi pi-sign-out",acceptLabel:"Yes",rejectLabel:"Cancel",acceptProps:{style:"background-color: red; color: white; font-weight: bold;"},rejectProps:{style:"background-color: gray;"},accept:()=>{this.handleLogoutYes()},reject:()=>{this.dropdownOpen=!1}})},handleLogoutYes(){_["default"].get("superAuthToken")?(_["default"].set("authToken",_["default"].get("superAuthToken")),_["default"].set("role",_["default"].get("superRole")),_["default"].set("userName",_["default"].get("superUserName")),_["default"].set("userId",_["default"].get("superUserId")),_["default"].set("first_name",_["default"].get("superFirstName")||""),_["default"].set("last_name",_["default"].get("superLastName")||""),_["default"].remove("superAuthToken"),_["default"].remove("superRole"),_["default"].remove("superUserName"),_["default"].remove("superUserId"),_["default"].remove("superFirstName"),_["default"].remove("superLastName"),this.$router.push("/user-permission")):(_["default"].clear(),this.$router.push({name:"Login"}))},checkScreen(){this.isVerySmallScreen=window.innerWidth<=425},updateNotificationCount(){const e=Number(_["default"].get("notificationCount"));this.notificationCount=isNaN(e)?0:e},goToProfile(){this.dropdownOpen=!1,this.$router.push({name:"Profile"})}},mounted(){this.isNavbarAlive=!0,document.addEventListener("mousedown",this.handleClickOutside),window.addEventListener("resize",this.checkScreen),this.checkScreen(),this.updateNotificationCount(),this.updateUserInfo();try{const e=_["default"].get("authToken");e&&this.fetchUnreadCount()}catch(e){console.warn("Failed to fetch initial unread count",e)}this.fetchCurrentUser(),this._boundFetchUnread=this.fetchUnreadCount.bind(this),this._boundUpdateNotificationCount=this.updateNotificationCount.bind(this),this._boundAuthUpdated=this._debounce(()=>{this.roleName=w.A.getRole(),this.updateUserInfo(),this.updateNotificationCount();try{this.fetchUnreadCount(),this.fetchCurrentUser()}catch(e){console.warn("Failed to fetch unread count after auth update",e)}this.$forceUpdate&&this.$forceUpdate()},500),this._boundFetchUnread=this._debounce(this.fetchUnreadCount.bind(this),500),window.addEventListener("notification-updated",this._boundFetchUnread),window.addEventListener("auth-updated",this._boundAuthUpdated),window.addEventListener("storage",this._boundUpdateNotificationCount),this.$root&&this.$root.$on&&this.$root.$on("page-title-override",e=>{this.overridePageTitle=e});try{const e=this.$route&&this.$route.name;if("AssessmentSummary"===e){const e=this.$route.params.assessmentId||this.$route.params.id;e&&this.isNavbarAlive&&this.fetchAssessmentName(e)}}catch(e){console.warn("Navbar: failed to fetch assessment name on mount",e)}this.$watch(()=>this.$route&&this.$route.fullPath,(t,s)=>{try{const e=this.$route&&this.$route.name;if("AssessmentSummary"===e){const e=this.$route.params.assessmentId||this.$route.params.id;e&&this.isNavbarAlive&&this.fetchAssessmentName(e)}}catch(e){console.warn("Navbar: failed to fetch assessment name on route change",e)}})},beforeDestroy(){this.isNavbarAlive=!1,document.removeEventListener("mousedown",this.handleClickOutside),window.removeEventListener("resize",this.checkScreen),this._boundUpdateNotificationCount&&window.removeEventListener("storage",this._boundUpdateNotificationCount),this._boundFetchUnread&&window.removeEventListener("notification-updated",this._boundFetchUnread),this._boundAuthUpdated&&window.removeEventListener("auth-updated",this._boundAuthUpdated),document.body.classList.remove("logout-overlay-active"),this.$root&&this.$root.$off&&this.$root.$off("page-title-override")}};var z=s(6262);const E=(0,z.A)(C,[["render",k],["__scopeId","data-v-7ed3e4c4"]]),$=E},1259:(e,t,s)=>{"use strict";e.exports=s.p+"img/AssessmentsOn.16eda574.svg"},2124:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(641);const o={class:"form-label"};function i(e,t,s,i,n,r){return(0,a.uX)(),(0,a.CE)("label",o,[(0,a.RG)(e.$slots,"default",{},void 0,!0)])}const n={name:"FormLabel"};var r=s(6262);const l=(0,r.A)(n,[["render",i],["__scopeId","data-v-41c6425a"]]),d=l},2281:(e,t,s)=>{"use strict";s.d(t,{CQ:()=>a.A,Ui:()=>w,ad:()=>i.A,ZQ:()=>o.A,lR:()=>r.A,fh:()=>n.A});var a=s(3654),o=s(5298),i=s(7035),n=s(7420),r=s(2124),l=s(641),d=s(3751);const u={class:"schedule-demo-schedule-inputs",style:{display:"flex",gap:"24px",width:"100%","justify-content":"flex-start"}},c={class:"form-box",style:{width:"338px","min-width":"0"}},p={class:"form-input-noicon-wrap"},m=["placeholder"],h={class:"form-box",style:{width:"338px","min-width":"0"}},g={class:"form-input-noicon-wrap"},f=["placeholder"];function b(e,t,s,a,o,i){return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",c,[(0,l.Lk)("div",p,[(0,l.bo)((0,l.Lk)("input",{type:"date",placeholder:s.datePlaceholder,class:"form-input","onUpdate:modelValue":t[0]||(t[0]=e=>i.dateValue=e),onInput:t[1]||(t[1]=t=>e.$emit("update:date",i.dateValue))},null,40,m),[[d.Jo,i.dateValue]])])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",g,[(0,l.bo)((0,l.Lk)("input",{type:"time",placeholder:s.timePlaceholder,class:"form-input","onUpdate:modelValue":t[2]||(t[2]=e=>i.timeValue=e),onInput:t[3]||(t[3]=t=>e.$emit("update:time",i.timeValue))},null,40,f),[[d.Jo,i.timeValue]])])])])}const v={name:"FormDateTime",props:{date:{type:String,default:""},time:{type:String,default:""},datePlaceholder:{type:String,default:"MM/DD/YYYY"},timePlaceholder:{type:String,default:"00:00"}},computed:{dateValue:{get(){return this.date},set(e){this.$emit("update:date",e)}},timeValue:{get(){return this.time},set(e){this.$emit("update:time",e)}}}};var y=s(6262);const k=(0,y.A)(v,[["render",b],["__scopeId","data-v-7ac9120e"]]),w=k},2687:(e,t,s)=>{"use strict";e.exports=s.p+"img/MyOrganizationOff.9686cffd.svg"},2777:(e,t,s)=>{"use strict";var a=s(3751),o=s(641);const i={id:"app"};function n(e,t,s,a,n,r){const l=(0,o.g2)("Toast"),d=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(l),((0,o.uX)(),(0,o.Wv)((0,o.$y)(r.layoutComponent),null,{default:(0,o.k6)(()=>[(0,o.bF)(d)]),_:1}))])}var r=s(4631);const l={name:"App",computed:{layoutComponent(){const e=this.$route.meta.layout;return"main"===e?r.A:"div"}}};var d=s(6262);const u=(0,d.A)(l,[["render",n]]),c=u;var p=s(5220),m=s(3193),h=s(6939),g=s(9435),f=s(33),b=s(7392),v=s(4682),y=s(3130);const k={class:"login-bg"},w={class:"login-card"},_={class:"input-group email-group"},L={class:"input-group password-group"},A=["type","autocomplete"],S={class:"options-row"},C={class:"remember-label"},z={class:"switch-auth"},E={class:"footer"},$={class:"copyright"};function N(e,t,s,i,n,r){const l=(0,o.g2)("Toast"),d=(0,o.g2)("FormLabel"),u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",k,[(0,o.bF)(l),t[16]||(t[16]=(0,o.Lk)("img",{src:b,alt:"Lines",class:"bg-lines"},null,-1)),t[17]||(t[17]=(0,o.Lk)("img",{src:v,alt:"Illustration",class:"bg-illustration"},null,-1)),(0,o.Lk)("div",w,[t[14]||(t[14]=(0,o.Lk)("h2",{class:"login-title"},"Welcome Back",-1)),t[15]||(t[15]=(0,o.Lk)("p",{class:"login-subtitle"},"Please login to your account",-1)),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"]))},[(0,o.Lk)("div",_,[t[6]||(t[6]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-envelope"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),placeholder:"Email ID",autocomplete:"username",required:""},null,512),[[a.Jo,n.email]])]),(0,o.Lk)("div",L,[t[7]||(t[7]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-lock"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:n.showPassword?"text":"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"Password",autocomplete:n.showPassword?"off":"current-password",required:""},null,8,A),[[a.hp,n.password]]),(0,o.Lk)("span",{class:"icon right",onClick:t[2]||(t[2]=(...e)=>r.togglePassword&&r.togglePassword(...e))},[(0,o.Lk)("i",{class:(0,f.C4)(n.showPassword?"fas fa-eye":"fas fa-eye-slash")},null,2)])]),(0,o.Lk)("div",null,[n.errorMessage?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errorMessage)+" ",1),(0,o.Lk)("button",{type:"button",class:"close-error",onClick:t[3]||(t[3]=e=>n.errorMessage=""),"aria-label":"Dismiss error",style:{background:"none",border:"none",padding:"0","margin-left":"8px",cursor:"pointer","font-size":"1rem"}}," × ")]),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",S,[(0,o.Lk)("label",C,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>n.rememberMe=e)},null,512),[[a.lH,n.rememberMe]]),t[8]||(t[8]=(0,o.eW)(" Remember me ",-1))]),(0,o.bF)(u,{to:"/forgot-password",class:"forgot-password"},{default:(0,o.k6)(()=>[...t[9]||(t[9]=[(0,o.eW)("Forgot Password?",-1)])]),_:1})]),t[10]||(t[10]=(0,o.Lk)("button",{type:"submit",class:"login-btn"}," Login ",-1))],32),(0,o.Lk)("div",z,[t[12]||(t[12]=(0,o.Lk)("span",null,"Don't have an account?",-1)),(0,o.bF)(u,{to:"/register",class:"switch-link"},{default:(0,o.k6)(()=>[...t[11]||(t[11]=[(0,o.eW)("Register here",-1)])]),_:1})]),(0,o.Lk)("div",E,[t[13]||(t[13]=(0,o.Lk)("img",{src:y,alt:"Dolphin Logo",class:"footer-logo"},null,-1)),(0,o.Lk)("p",$," © "+(0,f.v_)(n.currentYear)+" All Rights Reserved By Dolphin ",1)])])])}var x=s(4335),P=s(3413),I=s(3080),F=s(9205),O=s(2281);const T="http://127.0.0.1:8000",U={name:"Login",components:{Toast:P.A,FormLabel:O.lR},setup(){const e=(0,I.d)();return{toast:e}},data(){return{email:"",password:"",rememberMe:!1,showPassword:!1,currentYear:(new Date).getFullYear(),loading:!1,successMessage:"",errorMessage:"",errors:{},error:"",role:"",status:""}},mounted(){this.$route.query.email&&(this.email=this.$route.query.email),this.$route.query.registrationSuccess&&this.toast.add({severity:"success",summary:"Registration Successful",detail:"Please log in with your new account.",life:3e3});const e={...this.$route.query};delete e.email,delete e.registrationSuccess,this.$router.replace({query:e}).catch(()=>{});const t=m["default"].get("authToken");t&&(0,F.fetchCurrentUser)().then(e=>{e?(e.role&&m["default"].set("role",e.role),this.$router.push("/dashboard").catch(()=>{})):m["default"].remove("authToken")}).catch(e=>{console.error("Error fetching current user:",e),m["default"].remove("authToken")})},methods:{togglePassword(){this.showPassword=!this.showPassword},async handleLogin(){try{const t=await x.A.post(`${T}/api/login`,{email:this.email,password:this.password,remember:this.rememberMe}),s=t.data.access_token,a=t.data.refresh_token,o=t.data.user||{},i=o.role,n=o.name,r=o.first_name||"",l=o.last_name||"",d=t.data.expires_at,u=t.data.organizations&&t.data.organizations.organization_name||o.organization_name||t.data.organization_name||"";m["default"].set("authToken",s),s&&(x.A.defaults.headers.common["Authorization"]=`Bearer ${s}`),m["default"].set("refreshToken",a),d&&m["default"].set("tokenExpiry",d),m["default"].set("role",i),m["default"].set("first_name",r),m["default"].set("last_name",l),m["default"].set("userName",r||l?`${r} ${l}`.trim():n);try{m["default"].set("user",o)}catch(e){console.error("Error storing user object:",e)}m["default"].set("organization_name",u),m["default"].set("showDashboardWelcome","1"),this.toast.add({severity:"success",summary:"Login Successful",detail:`Welcome, ${r} ${l}`.trim(),life:3e3});let c="/dashboard";try{const e=o.organization_id||o.org_id||null,t=await this.checkSubscriptionStatus(e);t&&(m["default"].set("subscription_status",t.status||null),m["default"].set("subscription_end",t.subscription_end||null),"expired"===t.status&&(this.toast.add({severity:"error",summary:"Subscription Expired",detail:"Please renew your subscription.",life:6e3}),c="/manage-subscription"))}catch(e){console.error("Failed to fetch subscription status on login:",e)}this.$router.push(c)}catch(t){console.error("Login failed:",t);let e="Login failed. Please check your credentials.";t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message),this.toast.add({severity:"error",summary:"Login Error",detail:e,life:4e3})}},async refreshAccessToken(){try{const e=m["default"].get("refreshToken");if(!e)throw new Error("No refresh token available");const t=await x.A.post(`${T}/oauth/token`,{grant_type:"refresh_token",refresh_token:e,client_id:{NODE_ENV:"production",VUE_APP_API_BASE_URL:"http://127.0.0.1:8000",BASE_URL:"/"}.VUE_APP_CLIENT_ID,client_secret:{NODE_ENV:"production",VUE_APP_API_BASE_URL:"http://127.0.0.1:8000",BASE_URL:"/"}.VUE_APP_CLIENT_SECRET}),s=t.data.access_token,a=t.data.refresh_token;return m["default"].set("authToken",s),m["default"].set("refreshToken",a),s}catch(e){return console.error("Token refresh failed:",e),this.toast.add({severity:"error",summary:"Session Expired",detail:"Please log in again.",life:4e3}),m["default"].clear(),m["default"].clear(),this.$router.push("/login"),null}},async checkSubscriptionStatus(e=null){try{const t=e?`${T}/api/subscription/status?org_id=${encodeURIComponent(e)}`:`${T}/api/subscription/status`,s=await x.A.get(t);return s.data}catch(t){return console.error("Error checking subscription status:",t),null}}}},V=(0,d.A)(U,[["render",N],["__scopeId","data-v-38585a1a"]]),D=V,R={class:"login-bg"},W={class:"login-card"},q={style:{"margin-bottom":"32px"}},X={class:"input-group name-group",style:{"margin-bottom":"0px !important"}},M={style:{"margin-bottom":"32px"}},B={class:"input-group name-group",style:{"margin-bottom":"0px !important"}},j={style:{"margin-bottom":"32px"}},Q={class:"input-group email-group",style:{"margin-bottom":"0px !important"}},Y={style:{"margin-bottom":"32px"}},J={class:"input-group phone-group",style:{"margin-bottom":"0px !important"}},K={class:"form-row full-width"},G={class:"form-field"},Z={class:"input-group org-name-group"},H={class:"form-row two-columns"},ee={class:"form-field"},te={class:"input-group org-country-group styled-select"},se={class:"form-field"},ae={class:"input-group org-findus-group"},oe={class:"form-row three-columns"},ie={class:"form-field"},ne={class:"input-group org-country-group styled-select"},re={class:"form-field"},le={class:"input-group org-state-group styled-select"},de={class:"form-field"},ue={class:"input-group org-city-group styled-select"},ce={class:"form-row two-columns"},pe={class:"form-field address-field"},me={class:"input-group org-address-group"},he={class:"form-field zip-field"},ge={class:"input-group org-zip-group"},fe={class:"form-row full-width button-row"},be={style:{"margin-bottom":"32px"}},ve={class:"input-group password-group",style:{"margin-bottom":"0px !important"}},ye=["type"],ke={style:{"margin-bottom":"32px"}},we={class:"input-group password-group",style:{"margin-bottom":"0px !important"}},_e=["type"],Le={class:"switch-auth"},Ae={class:"footer"},Se={class:"copyright"};function Ce(e,t,s,i,n,r){const l=(0,o.g2)("Toast"),d=(0,o.g2)("FormLabel"),u=(0,o.g2)("FormDropdown"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",R,[(0,o.bF)(l),t[55]||(t[55]=(0,o.Lk)("img",{src:b,alt:"Lines",class:"bg-lines"},null,-1)),t[56]||(t[56]=(0,o.Lk)("img",{src:v,alt:"Illustration",class:"bg-illustration"},null,-1)),(0,o.Lk)("div",W,[t[53]||(t[53]=(0,o.Lk)("h2",{class:"login-title"},"Create Account",-1)),t[54]||(t[54]=(0,o.Lk)("p",{class:"login-subtitle"},"Please fill in the details to register",-1)),1===n.step?((0,o.uX)(),(0,o.CE)("form",{key:0,onSubmit:t[4]||(t[4]=(0,a.D$)((...e)=>r.goToStep2&&r.goToStep2(...e),["prevent"]))},[(0,o.Lk)("div",q,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[21]||(t[21]=[(0,o.eW)("First Name",-1)])]),_:1}),(0,o.Lk)("div",X,[t[22]||(t[22]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-user"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.first_name=e),placeholder:"First Name",ref:"firstNameInput",required:""},null,512),[[a.Jo,n.first_name]]),n.errors.first_name?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.first_name[0]),1)]),_:1})):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",M,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[23]||(t[23]=[(0,o.eW)("Last Name",-1)])]),_:1}),(0,o.Lk)("div",B,[t[24]||(t[24]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-user"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.last_name=e),placeholder:"Last Name",ref:"lastNameInput",required:""},null,512),[[a.Jo,n.last_name]]),(0,o.Lk)("div",null,[n.errors.last_name?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.last_name[0]),1)]),_:1})):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",j,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[25]||(t[25]=[(0,o.eW)("Email ID",-1)])]),_:1}),(0,o.Lk)("div",Q,[t[26]||(t[26]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-envelope"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>n.email=e),placeholder:"Email ID",ref:"emailInput",required:"","aria-required":"true"},null,512),[[a.Jo,n.email]])]),(0,o.Lk)("div",null,[n.errors.email?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.email[0]),1)]),_:1})):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Y,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[27]||(t[27]=[(0,o.eW)("Phone Number",-1)])]),_:1}),(0,o.Lk)("div",J,[t[28]||(t[28]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-phone"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"tel","onUpdate:modelValue":t[3]||(t[3]=e=>n.phone=e),placeholder:"Phone Number",ref:"phoneInput",required:""},null,512),[[a.Jo,n.phone]])]),(0,o.Lk)("div",null,[n.errors.phone?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.phone[0]),1)]),_:1})):(0,o.Q3)("",!0)])]),t[29]||(t[29]=(0,o.Lk)("button",{type:"submit",class:"login-btn"}," Next ",-1))],32)):2===n.step?((0,o.uX)(),(0,o.CE)("form",{key:1,onSubmit:t[14]||(t[14]=(0,a.D$)((...e)=>r.goToStep3&&r.goToStep3(...e),["prevent"])),class:"org-form"},[(0,o.Lk)("div",K,[(0,o.Lk)("div",G,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[30]||(t[30]=[(0,o.eW)("Organization Name",-1)])]),_:1}),(0,o.Lk)("div",Z,[t[31]||(t[31]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-building"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>n.organization_name=e),placeholder:"Organization Name",ref:"orgNameInput",required:""},null,512),[[a.Jo,n.organization_name]]),t[32]||(t[32]=(0,o.eW)()),(0,o.Lk)("div",null,[n.errors.organization_name?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.organization_name[0]),1)]),_:1})):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",H,[(0,o.Lk)("div",ee,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[33]||(t[33]=[(0,o.eW)("Organization Size",-1)])]),_:1}),(0,o.Lk)("div",te,[(0,o.bF)(u,{modelValue:n.organization_size,"onUpdate:modelValue":t[6]||(t[6]=e=>n.organization_size=e),icon:"fas fa-users",ref:"orgSizeSelect",options:[{value:"",text:"Select Organization Size",disabled:!0},...n.orgSizeOptions.map(e=>({value:e,text:e}))],required:""},null,8,["modelValue","options"]),(0,o.Lk)("div",null,[n.errors.organization_size?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.organization_size[0]),1)]),_:1})):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",se,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[34]||(t[34]=[(0,o.eW)("How did you find us?",-1)])]),_:1}),(0,o.Lk)("div",ae,[(0,o.bF)(u,{modelValue:n.find_us,"onUpdate:modelValue":t[7]||(t[7]=e=>n.find_us=e),icon:"fas fa-search",ref:"findUsSelect",options:[{value:null,text:"Select",disabled:!0},...n.findUsOptions.map(e=>({value:e,text:e}))],required:""},null,8,["modelValue","options"]),n.errors.find_us?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.find_us[0]),1)]),_:1})):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",oe,[(0,o.Lk)("div",ie,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[35]||(t[35]=[(0,o.eW)("Country",-1)])]),_:1}),(0,o.Lk)("div",ne,[(0,o.bF)(u,{modelValue:n.country,"onUpdate:modelValue":t[8]||(t[8]=e=>n.country=e),icon:"fas fa-globe",ref:"countrySelect",options:[{value:null,text:"Select",disabled:!0},...n.countries.map(e=>({value:e.id,text:e.name}))],onChange:r.onCountryChange,required:""},null,8,["modelValue","options","onChange"]),t[36]||(t[36]=(0,o.eW)()),(0,o.Lk)("div",null,[n.errors.country?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.country[0]),1)]),_:1})):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",re,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[37]||(t[37]=[(0,o.eW)("State",-1)])]),_:1}),(0,o.Lk)("div",le,[(0,o.bF)(u,{modelValue:n.organization_state,"onUpdate:modelValue":t[9]||(t[9]=e=>n.organization_state=e),icon:"fas fa-flag",ref:"stateSelect",options:[{value:null,text:"Select",disabled:!0},...n.states.map(e=>({value:e.id,text:e.name}))],onChange:r.onStateChange,required:""},null,8,["modelValue","options","onChange"]),t[38]||(t[38]=(0,o.eW)()),(0,o.Lk)("div",null,[n.errors.state?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.state[0]),1)]),_:1})):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",de,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[39]||(t[39]=[(0,o.eW)("City",-1)])]),_:1}),(0,o.Lk)("div",ue,[(0,o.bF)(u,{modelValue:n.organization_city,"onUpdate:modelValue":t[10]||(t[10]=e=>n.organization_city=e),icon:"fas fa-city",ref:"citySelect",options:[{value:null,text:"Select",disabled:!0},...n.cities.map(e=>({value:e.id,text:e.name}))],required:""},null,8,["modelValue","options"]),(0,o.Lk)("div",null,[n.errors.organization_city?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.organization_city[0]),1)]),_:1})):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",ce,[(0,o.Lk)("div",pe,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[40]||(t[40]=[(0,o.eW)("Organization Address",-1)])]),_:1}),(0,o.Lk)("div",me,[t[41]||(t[41]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-map-marker-alt"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>n.organization_address=e),placeholder:"Organization Address",ref:"orgAddressInput",required:""},null,512),[[a.Jo,n.organization_address]])]),(0,o.Lk)("div",null,[n.errors.organization_address?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.organization_address[0]),1)]),_:1})):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",he,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[42]||(t[42]=[(0,o.eW)("Zip Code",-1)])]),_:1}),(0,o.Lk)("div",ge,[t[43]||(t[43]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-mail-bulk"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=e=>n.organization_zip=e),placeholder:"Zip Code",ref:"orgZipInput",required:""},null,512),[[a.Jo,n.organization_zip]])]),(0,o.Lk)("div",null,[n.errors.organization_zip?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.organization_zip[0]),1)]),_:1})):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",fe,[(0,o.Lk)("button",{type:"button",class:"login-btn back-btn",onClick:t[13]||(t[13]=(...e)=>r.goToStep1&&r.goToStep1(...e))}," Back "),t[44]||(t[44]=(0,o.Lk)("button",{type:"submit",class:"login-btn next-btn"}," Next ",-1))])],32)):3===n.step?((0,o.uX)(),(0,o.CE)("form",{key:2,onSubmit:t[20]||(t[20]=(0,a.D$)((...e)=>r.handleRegister&&r.handleRegister(...e),["prevent"]))},[(0,o.Lk)("div",be,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[45]||(t[45]=[(0,o.eW)("Password",-1)])]),_:1}),(0,o.Lk)("div",ve,[t[46]||(t[46]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-lock"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:n.showPassword?"text":"password","onUpdate:modelValue":t[15]||(t[15]=e=>n.password=e),placeholder:"Password",ref:"passwordInput",required:""},null,8,ye),[[a.hp,n.password]]),(0,o.Lk)("span",{class:"icon right",onClick:t[16]||(t[16]=e=>n.showPassword=!n.showPassword),style:{"user-select":"none"}},[(0,o.Lk)("i",{class:(0,f.C4)(n.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),(0,o.Lk)("div",null,[n.errors.password?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.password[0]),1)]),_:1})):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ke,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[47]||(t[47]=[(0,o.eW)("Confirm Password",-1)])]),_:1}),(0,o.Lk)("div",we,[t[48]||(t[48]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-lock"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:n.showConfirmPassword?"text":"password","onUpdate:modelValue":t[17]||(t[17]=e=>n.confirm_password=e),placeholder:"Confirm Password",ref:"confirmPasswordInput",required:""},null,8,_e),[[a.hp,n.confirm_password]]),(0,o.Lk)("span",{class:"icon right",onClick:t[18]||(t[18]=e=>n.showConfirmPassword=!n.showConfirmPassword),style:{"user-select":"none"}},[(0,o.Lk)("i",{class:(0,f.C4)(n.showConfirmPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),(0,o.Lk)("div",null,[n.errors.confirm_password?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"error-message1"},{default:(0,o.k6)(()=>[(0,o.eW)((0,f.v_)(n.errors.confirm_password[0]),1)]),_:1})):(0,o.Q3)("",!0)])]),(0,o.Lk)("button",{type:"button",class:"login-btn back-btn",onClick:t[19]||(t[19]=(...e)=>r.goToStep2&&r.goToStep2(...e))}," Back "),t[49]||(t[49]=(0,o.Lk)("button",{type:"submit",class:"login-btn"}," Register ",-1))],32)):(0,o.Q3)("",!0),(0,o.Lk)("div",Le,[t[51]||(t[51]=(0,o.Lk)("span",null,"Already have an account?",-1)),(0,o.bF)(c,{to:"/login",class:"switch-link"},{default:(0,o.k6)(()=>[...t[50]||(t[50]=[(0,o.eW)("Login here",-1)])]),_:1})]),(0,o.Lk)("div",Ae,[t[52]||(t[52]=(0,o.Lk)("img",{src:y,alt:"Dolphin Logo",class:"footer-logo"},null,-1)),(0,o.Lk)("p",Se," © "+(0,f.v_)(n.currentYear)+" All Rights Reserved By Dolphin ",1)])])])}var ze=s(3270);const Ee="http://127.0.0.1:8000",$e={name:"Register",components:{Toast:P.A,FormLabel:O.lR,FormDropdown:O.ad,FormRow:O.fh},setup(){const e=(0,I.d)();return{toast:e}},data(){return{step:1,first_name:"",last_name:"",email:"",phone:"",password:"",confirm_password:"",organization_name:"",organization_size:"",organization_address:"",organization_city:null,organization_state:null,organization_zip:"",country:null,countries:[],states:[],cities:[],currentYear:(new Date).getFullYear(),find_us:"",findUsOptions:ze.ch,orgSizeOptions:ze.w6,showPassword:!1,showConfirmPassword:!1,loading:!1,successMessage:"",errorMessage:"",errors:{}}},methods:{goToStep3(){this.step=3},goToStep2(){this.step=2,this.$nextTick(()=>{setTimeout(()=>{this.$refs.orgNameInput&&this.focusRef("orgNameInput")},50)})},goToStep1(){this.step=1,this.$nextTick(()=>{setTimeout(()=>{this.$refs.firstNameInput&&this.focusRef("firstNameInput")},50)})},focusRef(e,t={scroll:!0}){const s=this.$refs[e];if(!s)return;const a=e=>{if(!e)return!1;try{if(t.scroll&&e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"center"}),"function"===typeof e.focus)return e.focus(),!0}catch(s){console.warn("Error focusing element",s)}return!1};if(a(s))return;const o=s.$el||s;if(!o)return;const i=o.querySelector&&o.querySelector('input, select, textarea, button, [tabindex]:not([tabindex="-1"])')||null;a(i)||a(o)},normalizeValidationErrors(e){if(!e||"object"!==typeof e)return{};const t={...e};return e.organization_name&&(t.organization_name=e.organization_name),e.organization_size&&(t.organization_size=e.organization_size),e.address&&(t.organization_address=e.address),e.zip&&(t.organization_zip=e.zip),e.state&&!t.organization_state&&(t.organization_state=e.state),e.city&&!t.organization_city&&(t.organization_city=e.city),t},navigateToFirstError(e){const t=["first_name","last_name","email","phone"],s=["organization_name","organization_size","find_us","country","state","organization_state","city","organization_city","organization_address","organization_zip"],a=["password","confirm_password"],o=t=>t.find(t=>e&&e[t]);let i=1,n=null;const r=o(t),l=o(s),d=o(a);if(r){const e={first_name:"firstNameInput",last_name:"lastNameInput",email:"emailInput",phone:"phoneInput"};n=e[r]||"firstNameInput"}else if(l){i=2;const e={organization_name:"orgNameInput",organization_size:"orgSizeSelect",find_us:"findUsSelect",country:"countrySelect",state:"stateSelect",organization_state:"stateSelect",city:"citySelect",organization_city:"citySelect",organization_address:"orgAddressInput",organization_zip:"orgZipInput"};n=e[l]||"countrySelect"}else{if(!d)return;{i=3;const e={password:"passwordInput",confirm_password:"confirmPasswordInput"};n=e[d]||"passwordInput"}}this.step!==i&&(this.step=i),this.$nextTick(()=>{n&&this.focusRef(n,{scroll:!0})})},async handleRegister(){try{const e=await x.A.post(`${Ee}/api/register`,this.buildRegistrationPayload());201===e.status&&this.$router.push({name:"Login",query:{email:this.email,registrationSuccess:!0}})}catch(e){const t=this.processRegistrationError(e);this.toast.add({severity:"error",summary:"Registration Error",detail:t,life:6e3})}},buildRegistrationPayload(){return{first_name:this.first_name,last_name:this.last_name,email:this.email,phone:this.phone,password:this.password,confirm_password:this.confirm_password,organization_name:this.organization_name,organization_size:this.organization_size,address:this.organization_address,city:this.organization_city,state:this.organization_state,zip:this.organization_zip,country:this.country,find_us:this.find_us}},processRegistrationError(e){console.error("Registration failed:",e);let t="Registration failed. Please try again.";const s=e?.response?.data;if(s){console.error("Registration error response data:",s);const e=s.errors||("object"===typeof s?s:null),a=this.normalizeValidationErrors(e);if(a&&Object.keys(a).length&&(this.errors=a,this.navigateToFirstError(this.errors)),s.message)t=s.message;else if(s.errors)t=Object.values(s.errors).flat().join(" ");else if("object"===typeof s){const e=Object.values(s).flat();e.length&&(t=e.join(" "))}else"string"===typeof s?t=s:this.errors={}}else e?.message?t=e.message:this.errors={};return t},async prefillFromLead(){const e=this.$route.query;let t=this.setFromParams(e);if(e.lead_id||e.token||e.email)try{const s=await x.A.get(`${Ee}/api/leads/prefill`,{params:{lead_id:e.lead_id,token:e.token,email:e.email}});s.data&&s.data.lead&&(this.setFromLead(s.data.lead),t=!0)}catch(s){console.warn("Prefill API failed, falling back to params",s)}t||this.setFromParams(e)},setFromParams(e={}){let t=!1;const s=(s,a=s)=>{void 0!==e[a]&&(this[s]=e[a],t=!0)};return s("country"),s("first_name"),s("last_name"),s("email"),s("phone"),s("organization_name"),s("organization_size"),s("organization_address"),s("organization_city"),s("organization_state"),s("organization_zip"),s("find_us"),this.find_us&&(this.find_us=(0,ze.ro)(this.find_us)),this.organization_size&&(this.organization_size=(0,ze.lr)(this.organization_size)),t},setFromLead(e={}){this.first_name=e.first_name||"",this.last_name=e.last_name||"",this.email=e.email||"",this.phone=e.phone||"",this.organization_name=e.organization_name||"",this.organization_size=e.organization_size||"",this.organization_address=e.organization_address||"",this.country=e.country_id||e.country||this.country,this.organization_state=e.organization_state_id||e.state_id||e.organization_state||this.organization_state,this.organization_city=e.organization_city_id||e.city_id||e.organization_city||this.organization_city,this.organization_zip=e.organization_zip||"",this.find_us=e.find_us||"",this.find_us&&(this.find_us=(0,ze.ro)(this.find_us)),this.organization_size&&(this.organization_size=(0,ze.lr)(this.organization_size))},async fetchCountries(){try{const e=await x.A.get(`${Ee}/api/countries`);if(this.countries=e.data||[],this.country){const e=this.country;let t=null;const s=Number(e);if(isNaN(s)||0===s||(t=this.countries.find(e=>Number(e.id)===s)),!t){const s=String(e).toLowerCase();t=this.countries.find(e=>e.name&&String(e.name).toLowerCase()===s||e.iso&&String(e.iso).toLowerCase()===s)}t&&(this.country=Number(t.id),this.fetchStates())}}catch(e){console.warn("Failed to fetch countries",e)}},async fetchStates(){if(!this.country)return void(this.states=[]);const e=Number(this.country)||this.country;try{const t=await x.A.get(`${Ee}/api/states`,{params:{country_id:e}});if(this.states=t.data||[],this.organization_state){const e=this.organization_state;let t=null;const s=Number(e);if(isNaN(s)||0===s||(t=this.states.find(e=>Number(e.id)===s)),!t){const s=String(e).toLowerCase();t=this.states.find(e=>e.name&&String(e.name).toLowerCase()===s||e.code&&String(e.code).toLowerCase()===s)}t&&(this.organization_state=Number(t.id),this.fetchCities())}}catch(t){console.warn("Failed to fetch states",t),this.states=[]}},async fetchCities(){if(!this.organization_state)return void(this.cities=[]);const e=Number(this.organization_state)||this.organization_state;try{const t=await x.A.get(`${Ee}/api/cities`,{params:{state_id:e}});if(this.cities=t.data||[],this.organization_city){const e=this.organization_city;let t=null;const s=Number(e);if(isNaN(s)||0===s||(t=this.cities.find(e=>Number(e.id)===s)),!t){const s=String(e).toLowerCase();t=this.cities.find(e=>e.name&&String(e.name).toLowerCase()===s||e.code&&String(e.code).toLowerCase()===s)}t&&(this.organization_city=Number(t.id))}}catch(t){console.warn("Failed to fetch cities",t),this.cities=[]}},onCountryChange(){if(null!==this.country&&""!==this.country&&"number"!==typeof this.country){const e=Number(this.country);isNaN(e)||(this.country=e)}this.organization_state=null,this.organization_city=null,this.states=[],this.cities=[],this.fetchStates()},onStateChange(){if(null!==this.organization_state&&""!==this.organization_state&&"number"!==typeof this.organization_state){const e=Number(this.organization_state);isNaN(e)||(this.organization_state=e)}this.organization_city=null,this.cities=[],this.fetchCities()}},async mounted(){await this.prefillFromLead(),await this.fetchCountries(),this.country&&await this.fetchStates(),this.organization_state&&await this.fetchCities(),this.$nextTick(()=>{setTimeout(()=>{this.$refs.firstNameInput&&this.focusRef("firstNameInput")},50)})}},Ne=(0,d.A)($e,[["render",Ce],["__scopeId","data-v-8c98b202"]]),xe=Ne,Pe={class:"login-bg"},Ie={class:"login-card"},Fe={class:"input-group email-group"},Oe=["disabled"],Te={class:"switch-auth"};function Ue(e,t,s,i,n,r){const l=(0,o.g2)("Toast"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.bF)(l),t[8]||(t[8]=(0,o.Lk)("img",{src:b,alt:"Lines",class:"bg-lines"},null,-1)),t[9]||(t[9]=(0,o.Lk)("img",{src:v,alt:"Illustration",class:"bg-illustration"},null,-1)),(0,o.Lk)("div",Ie,[t[5]||(t[5]=(0,o.Lk)("h2",{class:"login-title"},"Forgot Password",-1)),t[6]||(t[6]=(0,o.Lk)("p",{class:"login-subtitle"},"Enter your email to reset your password",-1)),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)((...e)=>r.handleForgotPassword&&r.handleForgotPassword(...e),["prevent"]))},[(0,o.Lk)("div",Fe,[t[2]||(t[2]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-envelope"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),placeholder:"Email ID",required:""},null,512),[[a.Jo,n.email]])]),(0,o.Lk)("button",{type:"submit",class:"login-btn",disabled:n.loading},(0,f.v_)(n.loading?"Sending...":"Send Reset Link"),9,Oe)],32),(0,o.Lk)("div",Te,[t[4]||(t[4]=(0,o.Lk)("span",null,"Remembered your password?",-1)),(0,o.bF)(d,{to:"/login",class:"switch-link"},{default:(0,o.k6)(()=>[...t[3]||(t[3]=[(0,o.eW)("Login here",-1)])]),_:1})]),t[7]||(t[7]=(0,o.Lk)("div",{class:"footer"},[(0,o.Lk)("img",{src:y,alt:"Dolphin Logo",class:"footer-logo"}),(0,o.Lk)("p",{class:"copyright"},"©2025 Dolphin | All Rights Reserved")],-1))])])}const Ve={name:"ForgotPassword",components:{Toast:P.A},setup(){const e=(0,I.d)();return{toast:e}},data(){return{email:"",loading:!1,cooldown:0,cooldownInterval:null}},methods:{handleForgotPassword(){this.cooldown>0?this.toast.add({severity:"warn",summary:"Please wait",detail:`You can request another reset link in ${this.cooldown}s`,life:3e3}):this.email?(this.loading=!0,fetch("http://127.0.0.1:8000/api/password/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email})}).then(async e=>{const t=await e.json();if(this.loading=!1,429===e.status||t.message&&t.message.toLowerCase().includes("throttle"))return this.cooldown=30,this.startCooldown(),void this.toast.add({severity:"warn",summary:"Please wait",detail:"You can request another reset link in 3 minutes",life:3500});this.toast.add({severity:"success",summary:"Reset Link Sent",detail:t.message||"If this email is registered, a reset link has been sent.",life:3500}),this.email="",this.cooldown=30,this.startCooldown()}).catch(()=>{this.loading=!1,this.toast.add({severity:"error",summary:"Error",detail:"Failed to send reset link. Try again.",life:3500})})):this.toast.add({severity:"error",summary:"Error",detail:"Please enter your email address.",life:3e3})},startCooldown(){this.cooldownInterval&&clearInterval(this.cooldownInterval),this.cooldownInterval=setInterval(()=>{this.cooldown>0?this.cooldown--:(clearInterval(this.cooldownInterval),this.cooldownInterval=null)},1e3)}}},De=(0,d.A)(Ve,[["render",Ue],["__scopeId","data-v-f670a48c"]]),Re=De,We={class:"login-bg"},qe={class:"login-card"},Xe={class:"input-group email-group"},Me={class:"input-group password-group"},Be={class:"input-group password-group"},je=["disabled"];function Qe(e,t,s,i,n,r){const l=(0,o.g2)("Toast");return(0,o.uX)(),(0,o.CE)("div",We,[(0,o.bF)(l),t[9]||(t[9]=(0,o.Lk)("img",{src:b,alt:"Lines",class:"bg-lines"},null,-1)),t[10]||(t[10]=(0,o.Lk)("img",{src:v,alt:"Illustration",class:"bg-illustration"},null,-1)),(0,o.Lk)("div",qe,[t[7]||(t[7]=(0,o.Lk)("h2",{class:"login-title"},"Reset Password",-1)),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)((...e)=>r.submit&&r.submit(...e),["prevent"]))},[(0,o.Lk)("div",Xe,[t[4]||(t[4]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-envelope"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),placeholder:"Email ID",required:""},null,512),[[a.Jo,n.email]])]),(0,o.Lk)("div",Me,[t[5]||(t[5]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-lock"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"New Password",required:""},null,512),[[a.Jo,n.password]])]),(0,o.Lk)("div",Be,[t[6]||(t[6]=(0,o.Lk)("span",{class:"icon"},[(0,o.Lk)("i",{class:"fas fa-lock"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.password_confirmation=e),placeholder:"Confirm Password",required:""},null,512),[[a.Jo,n.password_confirmation]])]),(0,o.Lk)("button",{type:"submit",class:"login-btn",disabled:n.loading},(0,f.v_)(n.loading?"Resetting...":"Reset Password"),9,je)],32),t[8]||(t[8]=(0,o.Lk)("div",{class:"footer"},[(0,o.Lk)("img",{src:y,alt:"Dolphin Logo",class:"footer-logo"}),(0,o.Lk)("p",{class:"copyright"},"©2025 Dolphin | All Rights Reserved")],-1))])])}const Ye={name:"ResetPassword",components:{Toast:P.A},setup(){const e=(0,I.d)();return{toast:e}},data(){return{email:"",password:"",password_confirmation:"",loading:!1,token:""}},mounted(){this.token=this.$route.query.token||"",this.email=this.$route.query.email||""},methods:{async submit(){this.loading=!0;try{await x.A.post("http://127.0.0.1:8000/api/password/reset",{email:this.email,password:this.password,password_confirmation:this.password_confirmation,token:this.token}),this.toast.add({severity:"success",summary:"Success",detail:"Password reset successful! You can now log in.",life:3500}),this.email="",this.password="",this.password_confirmation="",setTimeout(()=>{this.$router.push("/login")},2e3)}catch(e){this.toast.add({severity:"error",summary:"Error",detail:e.response?.data?.message||"Reset failed.",life:3500})}finally{this.loading=!1}}}},Je=(0,d.A)(Ye,[["render",Qe],["__scopeId","data-v-d4e6c872"]]),Ke=Je,Ge={class:"page"};function Ze(e,t,s,a,i,n){const r=(0,o.g2)("Toast"),l=(0,o.g2)("OrgAdminGraphs"),d=(0,o.g2)("UserGraphs"),u=(0,o.g2)("MainLayout");return(0,o.uX)(),(0,o.Wv)(u,null,{default:(0,o.k6)(()=>[(0,o.bF)(r),(0,o.Lk)("div",Ge,[n.isOrgAdmin?((0,o.uX)(),(0,o.Wv)(l,{key:0})):n.isUser?((0,o.uX)(),(0,o.Wv)(d,{key:1})):(0,o.Q3)("",!0)])]),_:1})}var He=s(953),et=s(4527),tt=s(8508);const st=["src","alt"],at=["onClick"];function ot(e,t,a,i,n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"dropdown-radio",style:(0,f.Tr)(r.widthStyle+"margin-right:0;"),ref:"dropdownRoot"},[(0,o.Lk)("button",{class:(0,f.C4)(["dropdown-radio-btn",{open:n.open}]),type:"button",tabindex:"0",style:(0,f.Tr)(r.widthStyle),onClick:t[0]||(t[0]=(...e)=>r.toggleDropdown&&r.toggleDropdown(...e))},[(0,o.Lk)("span",null,(0,f.v_)(r.displayLabel),1),(0,o.Lk)("img",{class:"dropdown-radio-arrow",src:n.open?s(5753):s(8634),alt:n.open?"Close":"Open"},null,8,st)],6),n.open?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"dropdown-radio-list",style:(0,f.Tr)(r.dropdownListStyle)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.options,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.value,class:"dropdown-radio-option",type:"button",onClick:t=>r.selectOption(e.value)},[(0,o.Lk)("span",null,(0,f.v_)(e.label),1),(0,o.Lk)("span",{class:(0,f.C4)(["dropdown-radio-circle",{selected:n.internalValue===e.value}])},null,2)],8,at))),128))],4)):(0,o.Q3)("",!0)],4)}const it={name:"UniversalDropdown",props:{options:{type:Array,default:()=>[]},modelValue:{type:String,default:""},dropdownWidth:{type:Number,default:240}},emits:["update:modelValue"],data(){return{open:!1,internalValue:this.modelValue||this.options[0]?.value||""}},computed:{widthStyle(){return`width: ${this.dropdownWidth}px; min-width: ${this.dropdownWidth}px; max-width: ${this.dropdownWidth}px;`},displayLabel(){const e=this.options.find(e=>e.value===this.internalValue);return e?e.label:this.options[0]?.label||""},dropdownListStyle(){return`width: ${this.dropdownWidth}px; min-width: ${this.dropdownWidth}px; max-width: ${this.dropdownWidth}px;`}},watch:{modelValue(e){this.internalValue=e},internalValue(e){this.$emit("update:modelValue",e)}},methods:{toggleDropdown(){this.open=!this.open},selectOption(e){this.internalValue=e,this.open=!1},handleClickOutside(e){this.open&&!this.$el.contains(e.target)&&(this.open=!1)}},mounted(){document.addEventListener("mousedown",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}},nt=(0,d.A)(it,[["render",ot],["__scopeId","data-v-1a35cb3d"]]),rt=nt,lt={class:"org-admin-graphs-outer"},dt={class:"org-admin-graphs-card"},ut={class:"org-admin-graphs-content"},ct={class:"graph-section"},pt={class:"graph-controls"},mt={class:"graph-section"},ht={class:"graph-controls"},gt={__name:"OrgAdminGraphs",setup(e){tt.t1.register(tt.E8,tt.PP,tt.kc,tt.m_,tt.s$);const t=(0,He.KR)("Entire Organization"),s=(0,He.KR)("Q4-2024"),a=(0,He.KR)("Single Department"),i=(0,He.KR)("Q2-2024"),n=[{label:"Entire Organization",value:"Entire Organization"},{label:"Single Department",value:"Single Department"}],r=[{label:"Single Department",value:"Single Department"},{label:"Entire Organization",value:"Entire Organization"}],l=[{label:"Q1-2025",value:"Q1-2025"},{label:"Q2-2025",value:"Q2-2025"},{label:"Q3-2025",value:"Q3-2025"},{label:"Q4-2025",value:"Q4-2025"}],d=[60,100,40,40,20,60],u=[80,40,60,20,30,50],c={labels:["Info 1","Info 2","Info 3","Info 4","Info 5","Info 6"],datasets:[{label:"Hidden Culture",backgroundColor:"#0164A5",data:d,barPercentage:.7,categoryPercentage:.7}]},p={labels:["Info 1","Info 2","Info 3","Info 4","Info 5","Info 6"],datasets:[{label:"Current State",backgroundColor:"#0164A5",data:u,barPercentage:.7,categoryPercentage:.7}]},m={responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0,max:100,ticks:{stepSize:20}}}};return(e,d)=>((0,o.uX)(),(0,o.CE)("div",lt,[(0,o.Lk)("div",dt,[(0,o.Lk)("div",ut,[(0,o.Lk)("div",ct,[d[4]||(d[4]=(0,o.Lk)("div",{class:"org-admin-graphs-title"},"Hidden Culture",-1)),(0,o.Lk)("div",pt,[(0,o.bF)(rt,{options:n,modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=e=>t.value=e)},null,8,["modelValue"]),(0,o.bF)(rt,{options:l,modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=e=>s.value=e)},null,8,["modelValue"])]),(0,o.bF)((0,He.R1)(et.yP),{data:c,options:m})]),(0,o.Lk)("div",mt,[d[5]||(d[5]=(0,o.Lk)("div",{class:"org-admin-graphs-title"},"Current State Graph",-1)),(0,o.Lk)("div",ht,[(0,o.bF)(rt,{options:r,modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=e=>a.value=e)},null,8,["modelValue"]),(0,o.bF)(rt,{options:l,modelValue:i.value,"onUpdate:modelValue":d[3]||(d[3]=e=>i.value=e)},null,8,["modelValue"])]),(0,o.bF)((0,He.R1)(et.yP),{data:p,options:m})])])])]))}},ft=(0,d.A)(gt,[["__scopeId","data-v-15408d2d"]]),bt=ft,vt={class:"user-graphs-outer"},yt={class:"user-graphs-card"},kt={class:"user-graphs-content"},wt={class:"user-graph-section"},_t={class:"user-graph-inner"},Lt={class:"user-graph-inner-header"},At={class:"user-graph-section"},St={class:"user-graph-inner"},Ct={class:"user-graph-inner-header"},zt={__name:"UserGraphs",setup(e){tt.t1.register(tt.E8,tt.PP,tt.kc,tt.m_,tt.s$);const t={labels:["Info 1","Info 2","Info 3","Info 4","Info 5","Info 6"],datasets:[{label:"Original Self",backgroundColor:"#0164A5",data:[40,100,30,30,10,40],borderRadius:0,barPercentage:.7,categoryPercentage:.7}]},s={labels:["Info 1","Info 2","Info 3","Info 4","Info 5","Info 6"],datasets:[{label:"Adjusted Self",backgroundColor:"#0164A5",data:[40,60,40,10,20,30],borderRadius:0,barPercentage:.7,categoryPercentage:.7}]},a={responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0,max:100,ticks:{stepSize:20}}}},i=[{label:"Original Self 1",value:"Original Self 1"},{label:"Original Self 2",value:"Original Self 2"},{label:"Original Self 3",value:"Original Self 3"}],n=[{label:"Adjusted Self 1",value:"Adjusted Self 1"},{label:"Adjusted Self 2",value:"Adjusted Self 2"},{label:"Adjusted Self 3",value:"Adjusted Self 3"}],r=(0,He.KR)("Original Self 1"),l=(0,He.KR)("Adjusted Self 1");return(e,d)=>((0,o.uX)(),(0,o.CE)("div",vt,[(0,o.Lk)("div",yt,[(0,o.Lk)("div",kt,[(0,o.Lk)("div",wt,[d[2]||(d[2]=(0,o.Lk)("div",{class:"user-graph-header"},"Original Self",-1)),(0,o.Lk)("div",_t,[(0,o.Lk)("div",Lt,[(0,o.bF)(rt,{mode:"radio",options:i,modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=e=>r.value=e)},null,8,["modelValue"])]),(0,o.bF)((0,He.R1)(et.yP),{data:t,options:a})])]),(0,o.Lk)("div",At,[d[3]||(d[3]=(0,o.Lk)("div",{class:"user-graph-header"},"Adjusted Self",-1)),(0,o.Lk)("div",St,[(0,o.Lk)("div",Ct,[(0,o.bF)(rt,{mode:"radio",options:n,modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=e=>l.value=e)},null,8,["modelValue"])]),(0,o.bF)((0,He.R1)(et.yP),{data:s,options:a})])])])])]))}},Et=(0,d.A)(zt,[["__scopeId","data-v-4a7e905e"]]),$t=Et,Nt={components:{MainLayout:r.A,OrgAdminGraphs:bt,UserGraphs:$t,Toast:P.A},setup(){const e=(0,I.d)();return{toast:e}},computed:{isOrgAdmin(){const e=s(3193)["default"],t=e.get("role");return"organizationadmin"===t||"superadmin"===t||"Dolphinadmin"===t},isUser(){const e=s(3193)["default"],t=e.get("role");return"user"===t||"salesperson"===t}}},xt=(0,d.A)(Nt,[["render",Ze]]),Pt=xt;var It=s(5094),Ft=s(3709),Ot=s(7420),Tt=s(2124),Ut=s(5298),Vt=s(7035),Dt=s(932);const Rt={class:"page"},Wt={class:"profile-outer"},qt={class:"profile-card"},Xt={key:0,class:"profile-info-table"},Mt={key:1,class:"profile-info-table",style:{color:"red"}},Bt={key:2,class:"profile-info-table"},jt={class:"profile-info-row"},Qt={class:"profile-value"},Yt={class:"profile-info-row"},Jt={class:"profile-value"},Kt={class:"profile-info-row"},Gt={class:"profile-value"},Zt={class:"profile-info-row"},Ht={class:"profile-value"},es={class:"profile-info-row"},ts={class:"profile-value"},ss={class:"profile-info-row"},as={class:"profile-value"},os={class:"modal-card",style:{"max-width":"550px"}},is={class:"modal-form-actions"},ns=["disabled"],rs={class:"profile-card"},ls={class:"profile-info-row"},ds={class:"profile-value"},us={style:{position:"relative",width:"100%"}},cs={class:"profile-info-row"},ps={class:"profile-value"},ms={style:{position:"relative",width:"100%"}},hs={class:"profile-info-row"},gs={class:"profile-value"},fs={style:{position:"relative",width:"100%"}},bs={class:"profile-save-btn-row"},vs=["disabled"],ys={__name:"Profile",setup(e){const t=(0,I.d)(),s=(0,It.S)(),i=(0,He.KR)(null),n=(0,He.KR)([]),l=(0,He.KR)(!0),d=(0,He.KR)(null),u=(0,He.KR)(!1),c=(0,He.KR)(!1),p=(0,He.KR)(!1),h=(0,He.KR)(!1),g=(0,He.Kh)({first_name:"",last_name:"",email:"",phone:"",country_id:""}),b=(0,He.Kh)({current_password:"",new_password:"",new_password_confirmation:""});function v(){h.value=!h.value}const y=(0,o.EW)(()=>i.value?.role?(0,Dt.W)(i.value.role):""),k="http://127.0.0.1:8000",w=m["default"].get("authToken"),_=async()=>{l.value=!0,d.value=null;try{const e=await x.A.get(`${k}/api/profile`,{headers:{Authorization:`Bearer ${w}`}});i.value=e.data}catch(e){console.log(e),d.value="Failed to fetch profile information.",t.add({severity:"error",summary:"Error",detail:d.value,life:3e3})}finally{l.value=!1}},L=async()=>{try{const e=await x.A.get(`${k}/api/countries`,{headers:{Authorization:`Bearer ${w}`}});n.value=e.data.map(e=>({value:e.id,text:e.name}))}catch(e){console.error("Failed to fetch countries:",e)}},A=()=>{i.value&&(g.first_name=i.value.first_name,g.last_name=i.value.last_name,g.email=i.value.email,g.phone=i.value.phone,g.country_id=i.value.country_id,p.value=!0)},S=async()=>{u.value=!0;try{const e={user:{email:g.email},user_details:{first_name:g.first_name,last_name:g.last_name,phone:g.phone,country:g.country_id}},s=await x.A.patch(`${k}/api/profile`,e,{headers:{Authorization:`Bearer ${w}`}});i.value=s.data.user,p.value=!1,t.add({severity:"success",summary:"Success",detail:"Profile updated successfully!",life:3e3})}catch(e){const s=e.response?.data?.message||"Failed to update profile.";t.add({severity:"error",summary:"Update Error",detail:s,life:3e3})}finally{u.value=!1}},C=async()=>{if(b.new_password===b.new_password_confirmation){c.value=!0;try{await x.A.post(`${k}/api/change-password`,b,{headers:{Authorization:`Bearer ${w}`}}),t.add({severity:"success",summary:"Success",detail:"Password changed successfully!",life:3e3}),Object.keys(b).forEach(e=>b[e]="")}catch(e){const s=e.response?.data?.error||"Failed to change password.";t.add({severity:"error",summary:"Password Error",detail:s,life:3e3})}finally{c.value=!1}}else t.add({severity:"error",summary:"Password Error",detail:"New passwords do not match.",life:3e3})},z=()=>{s.require({message:"Are you sure you want to delete your account? This action is permanent.",header:"Confirm Account Deletion",icon:"pi pi-exclamation-triangle",accept:async()=>{try{await x.A.delete(`${k}/api/profile`,{headers:{Authorization:`Bearer ${w}`}}),t.add({severity:"success",summary:"Success",detail:"Account deleted.",life:3e3}),m["default"].clear(),setTimeout(()=>window.location.href="/login",1500)}catch(e){console.log(e),t.add({severity:"error",summary:"Error",detail:"Failed to delete account.",life:3e3})}}})};return(0,o.sV)(()=>{_(),L()}),(e,t)=>((0,o.uX)(),(0,o.Wv)(r.A,null,{default:(0,o.k6)(()=>[(0,o.bF)((0,He.R1)(Ft.A)),(0,o.bF)((0,He.R1)(P.A)),(0,o.Lk)("div",Rt,[(0,o.Lk)("div",Wt,[(0,o.Lk)("div",qt,[(0,o.Lk)("div",{class:"profile-header"},[t[12]||(t[12]=(0,o.Lk)("div",{class:"profile-title"},[(0,o.Lk)("i",{class:"fas fa-user-circle profile-avatar"}),(0,o.Lk)("span",null,"Profile")],-1)),(0,o.Lk)("button",{class:"btn btn-primary",onClick:A},[...t[11]||(t[11]=[(0,o.Lk)("i",{class:"fas fa-pen-to-square"},null,-1),(0,o.eW)(" Edit ",-1)])])]),l.value?((0,o.uX)(),(0,o.CE)("div",Xt," Loading profile... ")):d.value?((0,o.uX)(),(0,o.CE)("div",Mt,(0,f.v_)(d.value),1)):i.value?((0,o.uX)(),(0,o.CE)("div",Bt,[(0,o.Lk)("div",jt,[t[13]||(t[13]=(0,o.Lk)("div",{class:"profile-label"},"First Name",-1)),(0,o.Lk)("div",Qt,(0,f.v_)(i.value.first_name),1)]),(0,o.Lk)("div",Yt,[t[14]||(t[14]=(0,o.Lk)("div",{class:"profile-label"},"Last Name",-1)),(0,o.Lk)("div",Jt,(0,f.v_)(i.value.last_name),1)]),(0,o.Lk)("div",Kt,[t[15]||(t[15]=(0,o.Lk)("div",{class:"profile-label"},"Email",-1)),(0,o.Lk)("div",Gt,(0,f.v_)(i.value.email),1)]),(0,o.Lk)("div",Zt,[t[16]||(t[16]=(0,o.Lk)("div",{class:"profile-label"},"Role",-1)),(0,o.Lk)("div",Ht,(0,f.v_)(y.value),1)]),(0,o.Lk)("div",es,[t[17]||(t[17]=(0,o.Lk)("div",{class:"profile-label"},"Country",-1)),(0,o.Lk)("div",ts,(0,f.v_)(i.value.country),1)]),(0,o.Lk)("div",ss,[t[18]||(t[18]=(0,o.Lk)("div",{class:"profile-label"},"Phone",-1)),(0,o.Lk)("div",as,(0,f.v_)(i.value.phone),1)])])):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:"profile-actions"},[(0,o.Lk)("button",{class:"btn btn-danger",onClick:z},[...t[19]||(t[19]=[(0,o.Lk)("i",{class:"fas fa-trash"},null,-1),(0,o.eW)(" Delete Account ",-1)])])])]),p.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:t[7]||(t[7]=(0,a.D$)(e=>p.value=!1,["self"]))},[(0,o.Lk)("div",os,[(0,o.Lk)("button",{class:"modal-close-btn",onClick:t[0]||(t[0]=e=>p.value=!1)}," × "),t[26]||(t[26]=(0,o.Lk)("div",{class:"modal-title"},"Edit Profile",-1)),t[27]||(t[27]=(0,o.Lk)("div",{class:"modal-desc",style:{"font-size":"1.5rem !important"}}," Update your profile information. ",-1)),(0,o.Lk)("form",{class:"modal-form",onSubmit:(0,a.D$)(S,["prevent"])},[(0,o.bF)(Ot.A,{style:{"margin-bottom":"0 !important"}},{default:(0,o.k6)(()=>[(0,o.bF)(Tt.A,{style:{"font-size":"1rem !important",margin:"0 !important"}},{default:(0,o.k6)(()=>[...t[20]||(t[20]=[(0,o.eW)("First Name",-1)])]),_:1}),(0,o.bF)(Ut.A,{modelValue:g.first_name,"onUpdate:modelValue":t[1]||(t[1]=e=>g.first_name=e),icon:"fas fa-user",type:"text",placeholder:"Enter first name",required:""},null,8,["modelValue"])]),_:1}),(0,o.bF)(Ot.A,{style:{"margin-bottom":"0 !important"}},{default:(0,o.k6)(()=>[(0,o.bF)(Tt.A,{style:{"font-size":"1rem !important",margin:"0 !important"}},{default:(0,o.k6)(()=>[...t[21]||(t[21]=[(0,o.eW)("Last Name",-1)])]),_:1}),(0,o.bF)(Ut.A,{modelValue:g.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>g.last_name=e),icon:"fas fa-user",type:"text",placeholder:"Enter last name",required:""},null,8,["modelValue"])]),_:1}),(0,o.bF)(Ot.A,{style:{"margin-bottom":"0 !important"}},{default:(0,o.k6)(()=>[(0,o.bF)(Tt.A,{style:{"font-size":"1rem !important",margin:"0 !important"}},{default:(0,o.k6)(()=>[...t[22]||(t[22]=[(0,o.eW)("Email",-1)])]),_:1}),(0,o.bF)(Ut.A,{modelValue:g.email,"onUpdate:modelValue":t[3]||(t[3]=e=>g.email=e),icon:"fas fa-envelope",type:"email",placeholder:"Enter email address",required:""},null,8,["modelValue"])]),_:1}),(0,o.bF)(Ot.A,{style:{"margin-bottom":"0 !important"}},{default:(0,o.k6)(()=>[(0,o.bF)(Tt.A,{style:{"font-size":"1rem !important",margin:"0 !important"}},{default:(0,o.k6)(()=>[...t[23]||(t[23]=[(0,o.eW)("Phone",-1)])]),_:1}),(0,o.bF)(Ut.A,{modelValue:g.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>g.phone=e),icon:"fas fa-phone",type:"text",placeholder:"Enter phone number"},null,8,["modelValue"])]),_:1}),(0,o.bF)(Ot.A,{style:{"margin-bottom":"0 !important"}},{default:(0,o.k6)(()=>[(0,o.bF)(Tt.A,{style:{"font-size":"1rem !important",margin:"0 !important"}},{default:(0,o.k6)(()=>[...t[24]||(t[24]=[(0,o.eW)("Country",-1)])]),_:1}),(0,o.bF)(Vt.A,{modelValue:g.country_id,"onUpdate:modelValue":t[5]||(t[5]=e=>g.country_id=e),icon:"fas fa-globe",options:n.value,placeholder:"Select country"},null,8,["modelValue","options"])]),_:1}),(0,o.Lk)("div",is,[(0,o.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:u.value},[t[25]||(t[25]=(0,o.Lk)("i",{class:"fas fa-save"},null,-1)),(0,o.eW)(" "+(0,f.v_)(u.value?"Saving...":"Save"),1)],8,ns),(0,o.Lk)("button",{type:"button",class:"org-edit-cancel",onClick:t[6]||(t[6]=e=>p.value=!1)}," Cancel ")])],32)])])):(0,o.Q3)("",!0),(0,o.Lk)("div",rs,[t[32]||(t[32]=(0,o.Lk)("div",{class:"profile-section-title"},"Change Password",-1)),(0,o.Lk)("form",{class:"profile-password-form",onSubmit:(0,a.D$)(C,["prevent"])},[(0,o.Lk)("div",ls,[t[28]||(t[28]=(0,o.Lk)("div",{class:"profile-label"},"Current Password*",-1)),(0,o.Lk)("div",ds,[(0,o.Lk)("div",us,[(0,o.bF)(Ut.A,{modelValue:b.current_password,"onUpdate:modelValue":t[8]||(t[8]=e=>b.current_password=e),icon:"fas fa-lock",type:h.value?"text":"password",required:""},null,8,["modelValue","type"]),(0,o.Lk)("span",{class:"icon right",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",cursor:"pointer"},onClick:v},[(0,o.Lk)("i",{class:(0,f.C4)(h.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])])])]),(0,o.Lk)("div",cs,[t[29]||(t[29]=(0,o.Lk)("div",{class:"profile-label"},"New Password*",-1)),(0,o.Lk)("div",ps,[(0,o.Lk)("div",ms,[(0,o.bF)(Ut.A,{modelValue:b.new_password,"onUpdate:modelValue":t[9]||(t[9]=e=>b.new_password=e),icon:"fas fa-lock",type:h.value?"text":"password",required:""},null,8,["modelValue","type"]),(0,o.Lk)("span",{class:"icon right",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",cursor:"pointer"},onClick:v},[(0,o.Lk)("i",{class:(0,f.C4)(h.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])])])]),(0,o.Lk)("div",hs,[t[30]||(t[30]=(0,o.Lk)("div",{class:"profile-label"},"Confirm New Password*",-1)),(0,o.Lk)("div",gs,[(0,o.Lk)("div",fs,[(0,o.bF)(Ut.A,{modelValue:b.new_password_confirmation,"onUpdate:modelValue":t[10]||(t[10]=e=>b.new_password_confirmation=e),icon:"fas fa-lock",class:"form-input",type:h.value?"text":"password",required:""},null,8,["modelValue","type"]),(0,o.Lk)("span",{class:"icon right",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",cursor:"pointer"},onClick:v},[(0,o.Lk)("i",{class:(0,f.C4)(h.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])])])]),(0,o.Lk)("div",bs,[(0,o.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:c.value},[t[31]||(t[31]=(0,o.Lk)("i",{class:"fas fa-key"},null,-1)),(0,o.eW)(" "+(0,f.v_)(c.value?"Changing...":"Change Password"),1)],8,vs)])],32)])])])]),_:1}))}},ks=(0,d.A)(ys,[["__scopeId","data-v-51b80890"]]),ws=ks,_s={class:"assessment-answer-page"},Ls={class:"assessment-card"},As={class:"assessment-title"},Ss=["for"],Cs=["onUpdate:modelValue","id"],zs=["disabled"],Es={key:0},$s={key:1};function Ns(e,t,s,i,n,r){const l=(0,o.g2)("Toast");return(0,o.uX)(),(0,o.CE)("div",_s,[t[1]||(t[1]=(0,o.Lk)("img",{src:b,alt:"Lines",class:"bg-lines"},null,-1)),t[2]||(t[2]=(0,o.Lk)("img",{src:v,alt:"Illustration",class:"bg-illustration"},null,-1)),(0,o.Lk)("div",Ls,[(0,o.bF)(l),(0,o.Lk)("h2",As,(0,f.v_)(n.assessment?.name),1),(0,o.Lk)("form",{onSubmit:t[0]||(t[0]=(0,a.D$)((...e)=>r.submitAnswers&&r.submitAnswers(...e),["prevent"]))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.assessment?.questions||[],e=>((0,o.uX)(),(0,o.CE)("div",{key:e.assessment_question_id,class:"question-block"},[(0,o.Lk)("label",{for:"q-"+e.assessment_question_id,class:"question-label"},(0,f.v_)(e.text),9,Ss),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t=>n.answers[e.assessment_question_id]=t,id:"q-"+e.assessment_question_id,type:"text",class:"question-input",required:""},null,8,Cs),[[a.Jo,n.answers[e.assessment_question_id]]])]))),128)),(0,o.Lk)("button",{type:"submit",disabled:n.loading,class:"submit-btn"},[n.loading?((0,o.uX)(),(0,o.CE)("span",Es,"Submitting...")):((0,o.uX)(),(0,o.CE)("span",$s,"Submit"))],8,zs)],32)])])}const xs={name:"AssessmentAnswerPage",components:{Toast:P.A},setup(){const e=(0,I.d)();return{toast:e}},beforeRouteEnter(e,t,s){const a=e.params.token,o=JSON.parse(localStorage.getItem("completedAssessments")||"[]");o.includes(a)||"/thanks"===t.path?s("/thanks?already=1"):s()},data(){return{assessment:null,answers:{},loading:!1}},async created(){const e=this.$route.params.token,t=JSON.parse(localStorage.getItem("completedAssessments")||"[]");if(t.includes(e))this.$router.replace("/thanks?already=1");else try{const t="http://127.0.0.1:8000",s=await x.A.get(`${t}/api/assessment/answer/${e}`);this.assessment=s.data.assessment,this.group_id=s.data.group?s.data.group.id:null,this.member_id=s.data.member?s.data.member.id:null;for(const e of this.assessment.questions)this.answers[e.assessment_question_id]=""}catch(s){if(s.response&&(409===s.response.status||s.response.data&&s.response.data.message&&s.response.data.message.toLowerCase().includes("already submitted")))return this.markAssessmentCompleted(e),void this.$router.replace("/thanks?already=1");this.toast.add({severity:"error",summary:"Failed to load assessment.",life:3500})}},methods:{async submitAnswers(){this.loading=!0;const e=this.$route.params.token,t="http://127.0.0.1:8000";try{const s=this.assessment.questions.map(e=>({assessment_question_id:e.assessment_question_id,organization_assessment_question_id:e.question_id,answer:this.answers[e.assessment_question_id]})),a={answers:s,group_id:this.group_id,member_id:this.member_id};await x.A.post(`${t}/api/assessment/answer/${e}`,a),this.markAssessmentCompleted(e),this.$router.replace("/thanks")}catch(s){if(s.response&&(409===s.response.status||s.response.data&&s.response.data.message&&s.response.data.message.toLowerCase().includes("already submitted")))return this.markAssessmentCompleted(e),void this.$router.replace("/thanks?already=1");this.toast.add({severity:"error",summary:"Submission failed.",life:3500})}finally{this.loading=!1}},markAssessmentCompleted(e){const t=JSON.parse(localStorage.getItem("completedAssessments")||"[]");t.includes(e)||(t.push(e),localStorage.setItem("completedAssessments",JSON.stringify(t)))}}},Ps=(0,d.A)(xs,[["render",Ns],["__scopeId","data-v-22366708"]]),Is=Ps,Fs=()=>s.e(74).then(s.bind(s,2074)),Os=()=>s.e(122).then(s.bind(s,5122)),Ts=()=>s.e(397).then(s.bind(s,3397)),Us=()=>s.e(30).then(s.bind(s,8507)),Vs=()=>s.e(18).then(s.bind(s,5532)),Ds=()=>s.e(514).then(s.bind(s,2514)),Rs=()=>s.e(924).then(s.bind(s,2742)),Ws=()=>s.e(895).then(s.bind(s,9750)),qs=()=>s.e(310).then(s.bind(s,1310)),Xs=()=>Promise.all([s.e(314),s.e(323)]).then(s.bind(s,7213)),Ms=()=>s.e(741).then(s.bind(s,1235)),Bs=()=>s.e(411).then(s.bind(s,6411)),js=()=>s.e(626).then(s.bind(s,626)),Qs=()=>s.e(9).then(s.bind(s,9009)),Ys=()=>s.e(143).then(s.bind(s,7524)),Js=()=>s.e(658).then(s.bind(s,4658)),Ks=()=>s.e(989).then(s.bind(s,7989)),Gs=()=>Promise.all([s.e(314),s.e(183)]).then(s.bind(s,4181)),Zs=()=>s.e(951).then(s.bind(s,2233)),Hs=()=>s.e(926).then(s.bind(s,2185)),ea=()=>s.e(257).then(s.bind(s,1814)),ta=()=>s.e(44).then(s.bind(s,5044)),sa=()=>Promise.all([s.e(314),s.e(369)]).then(s.bind(s,4742)),aa=()=>Promise.all([s.e(314),s.e(596)]).then(s.bind(s,8792)),oa=[{path:"/",name:"Login",component:D,meta:{public:!0,guestOnly:!0}},{path:"/register",name:"Register",component:xe,meta:{public:!0,guestOnly:!0}},{path:"/forgot-password",name:"ForgotPassword",component:Re,meta:{public:!0}},{path:"/reset-password",name:"ResetPassword",component:Ke,meta:{public:!0}},{path:"/thankyou",name:"ThankYou",component:Fs,meta:{public:!0}},{path:"/thanks",name:"ThanksPage",component:Os,meta:{public:!0}},{path:"/assessment/answer/:token",name:"AssessmentAnswerPage",component:Is,meta:{public:!0}},{path:"/dashboard",name:"Dashboard",component:Pt,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:ws,meta:{requiresAuth:!0}},{path:"/manage-subscription",name:"ManageSubscription",component:Vs,meta:{requiresAuth:!0,roles:[h.gg.USER,h.gg.ORGANIZATIONADMIN]}},{path:"/subscriptions/plans",name:"SubscriptionPlans",component:Ds,meta:{requiresAuth:!0,roles:[h.gg.USER,h.gg.ORGANIZATIONADMIN]}},{path:"/organizations/billing-details",name:"BillingDetails",component:Rs,props:!0,meta:{requiresAuth:!0}},{path:"/organizations",name:"Organizations",component:Hs,meta:{requiresAuth:!0}},{path:"/organizations/:id",name:"OrganizationDetail",component:ea,props:!0,meta:{requiresAuth:!0}},{path:"/organizations/:id/edit",name:"OrganizationEdit",component:ta,props:!0,meta:{requiresAuth:!0}},{path:"/my-organization",name:"MyOrganization",component:sa,meta:{requiresAuth:!0}},{path:"/my-organization/members",name:"MemberListing",component:aa,props:!0,meta:{requiresAuth:!0}},{path:"/leads",name:"Leads",component:Ms,meta:{requiresAuth:!0}},{path:"/leads/lead-capture",name:"LeadCapture",component:Qs,meta:{requiresAuth:!0}},{path:"/leads/:id",name:"LeadDetail",component:Bs,props:!0,meta:{requiresAuth:!0}},{path:"/leads/:id/edit",name:"EditLead",component:js,props:!0,meta:{requiresAuth:!0}},{path:"/assessments",name:"Assessments",component:Gs,meta:{requiresAuth:!0}},{path:"/assessments/send-assessment/:id?",name:"SendAssessment",component:Ys,props:!0,meta:{requiresAuth:!0}},{path:"/assessments/:assessmentId/summary",name:"AssessmentSummary",component:Zs,props:!0,meta:{requiresAuth:!0}},{path:"/user-permission",name:"UserPermission",component:Ws,meta:{requiresAuth:!0,roles:[h.gg.SUPERADMIN]}},{path:"/user-permission/add",name:"AddUser",component:qs,meta:{requiresAuth:!0,roles:[h.gg.SUPERADMIN]}},{path:"/notifications",name:"Notifications",component:Xs,meta:{requiresAuth:!0,roles:[h.gg.SUPERADMIN]}},{path:"/training-resources",name:"TrainingResources",component:Ts,meta:{requiresAuth:!0}},{path:"/get-notification",name:"GetNotification",component:Us,meta:{requiresAuth:!0}},{path:"/leads/schedule-demo",name:"ScheduleDemo",component:Js,meta:{requiresAuth:!0}},{path:"/leads/schedule-class-training",name:"ScheduleClassTraining",component:Ks,meta:{requiresAuth:!0}},{path:"/:catchAll(.*)",redirect:"/dashboard"}],ia=(0,p.aE)({history:(0,p.LA)("/"),routes:oa}),na=(e,t,s)=>!!e.meta.public&&(t&&e.meta.guestOnly?s("/dashboard"):s(),!0),ra=(e,t)=>{const s=["Profile","ManageSubscription","SubscriptionPlans","BillingDetails"];s.includes(e.name)?t():t("/manage-subscription")},la=(e,t,s)=>e.meta.roles&&!e.meta.roles.includes(t)?s("/dashboard"):(0,h.Zf)(t,"routes",e.path)?s():s("/dashboard"),da=async(e,t,s)=>{const a=["ManageSubscription","SubscriptionPlans","BillingDetails"];if(a.includes(e.name))return s();try{const a=await(0,g.W)();m["default"].set("subscription_status",a.status),"expired"===a.status?ra(e,s):la(e,t,s)}catch(o){console.error("Error fetching subscription status:",o),m["default"].clear(),s("/")}};ia.beforeEach(async(e,t,s)=>{const a=m["default"].get("authToken"),o=m["default"].get("role");na(e,a,s)||(a?await da(e,o,s):s("/"))});const ua=ia,ca="http://127.0.0.1:8000";let pa=null,ma=0;const ha={startMonitoring(e={}){const{checkInterval:t=3e5,warningThreshold:s=6e5,onExpiringSoon:a=null,onExpired:o=null}=e;this.stopMonitoring(),pa=setInterval(async()=>{try{const e=m["default"].get("authToken");if(!e)return;const t=await x.A.get(`${ca}/api/token/status`,{headers:{Authorization:`Bearer ${e}`}}),{expires_in_seconds:i}=t.data,n=1e3*i;if(i<=0)return console.log("Token has expired"),m["default"].clear(),o&&"function"===typeof o&&o(),void this.stopMonitoring();if(n<=s){const e=Date.now();e-ma>3e5&&(console.warn(`Token will expire in ${Math.round(i/60)} minutes`),ma=e,a&&"function"===typeof a&&a(i))}}catch(e){e.response&&401===e.response.status?(console.log("Token validation failed with 401"),m["default"].clear(),o&&"function"===typeof o&&o(),this.stopMonitoring()):console.error("Token status check failed:",e)}},t),console.log("Token monitoring started")},stopMonitoring(){pa&&(clearInterval(pa),pa=null,console.log("Token monitoring stopped"))},async checkTokenNow(){try{const e=m["default"].get("authToken");if(!e)return null;const t=await x.A.get(`${ca}/api/token/status`,{headers:{Authorization:`Bearer ${e}`}});return t.data}catch(e){return console.error("Token status check failed:",e),e.response&&401===e.response.status&&m["default"].clear(),null}}},ga=ha;x.A.interceptors.request.use(e=>{const t=m["default"].get("authToken"),s=m["default"].get("tokenExpiry");if(t&&s){const e=(new Date).getTime(),t=new Date(s).getTime();if(e>=t)return console.log("Token expired, clearing storage and redirecting to login"),m["default"].clear(),ua.push("/login"),Promise.reject(new Error("Token expired"))}return e},e=>Promise.reject(e)),x.A.interceptors.response.use(e=>e,e=>{if(e.response&&401===e.response.status&&(console.log("Received 401 response, clearing storage and redirecting to login"),m["default"].clear(),ua.push("/login")),e.response&&403===e.response.status&&e.response.data){const t=e.response.data;if("expired"===t.status&&t.redirect_url){console.log("Subscription expired, updating storage"),m["default"].set("subscription_status","expired"),t.subscription_end&&m["default"].set("subscription_end",t.subscription_end),t.subscription_id&&m["default"].set("subscription_id",t.subscription_id);const s=ua.currentRoute.value.path,a=["/manage-subscription","/subscriptions/plans","/profile","/organizations/billing-details"],o=a.some(e=>s===e||s.startsWith(e));return o?console.log("Already on allowed page, not redirecting"):(console.log("Redirecting to manage subscription page"),ua.push("/manage-subscription")),Promise.reject(e)}}return Promise.reject(e)});var fa=s(3255),ba=s(888),va=s(634),ya=s(3739),ka=s(3101);const wa=(0,a.Ef)(c);wa.use(fa.Ay),wa.use(ba.A),wa.use(va.A),wa.component("Toast",P.A),wa.component("ConfirmDialog",Ft.A),wa.component("Calendar",ya.A),wa.component("Button",ka.A);const _a=m["default"].get("authToken");_a?(0,F.fetchCurrentUser)().then(e=>{if(e?.role){const t=m["default"].get("role");e.role!==t&&m["default"].set("role",e.role),ga.startMonitoring({checkInterval:3e5,warningThreshold:6e5,onExpiringSoon:e=>{console.warn(`Your session will expire in ${Math.round(e/60)} minutes`)},onExpired:()=>{console.log("Session expired, redirecting to login"),window.location.href="/login"}})}}).finally(()=>{wa.use(ua),wa.mount("#app")}):(wa.use(ua),wa.mount("#app"))},2820:(e,t,s)=>{"use strict";e.exports=s.p+"img/AnnouncementsOff.e3e00f39.svg"},3130:(e,t,s)=>{"use strict";e.exports=s.p+"img/Logo.b8bcb480.svg"},3143:(e,t,s)=>{"use strict";e.exports=s.p+"img/AssessmentsOff.7491a6d5.svg"},3193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(1396),o=s.n(a);const i={NODE_ENV:"production",VUE_APP_API_BASE_URL:"http://127.0.0.1:8000",BASE_URL:"/"}.VUE_APP_STORAGE_KEY||"dolphin_secret_key",n={NODE_ENV:"production",VUE_APP_API_BASE_URL:"http://127.0.0.1:8000",BASE_URL:"/"}.VUE_APP_LOGOUT_BROADCAST_KEY||"dolphin_logout",r={_logoutListeners:new Set,set(e,t){try{const a=JSON.stringify(t);try{const t=o().AES.encrypt(a,i).toString();localStorage.setItem(e,t)}catch(s){console.warn(`Encryption failed for key "${e}". Storing as plain text.`,s),localStorage.setItem(e,a)}}catch(s){console.error(`Could not stringify value for key "${e}".`,s)}},get(e){const t=localStorage.getItem(e);if(!t)return null;const s="string"===typeof t&&t.startsWith("U2FsdGVk");if(s)try{const e=o().AES.decrypt(t,i),s=e.toString(o().enc.Utf8);return s?JSON.parse(s):null}catch(a){return console.warn(`Decryption or JSON parse failed for key "${e}". Returning raw value.`,a),t}try{return JSON.parse(t)}catch(a){return console.warn(`JSON parse failed for key "${e}". Returning raw value.`,a),t}},remove(e){localStorage.removeItem(e)},clear(){localStorage.clear()},broadcastLogout(){try{localStorage.setItem(n,String(Date.now()))}catch(e){console.error("Failed to broadcast logout:",e)}try{this.clear()}catch(e){console.error("Error clearing storage on logout:",e)}this._notifyLogoutListeners()},onLogout(e){"function"===typeof e&&this._logoutListeners.add(e)},offLogout(e){"function"===typeof e&&this._logoutListeners.delete(e)},_notifyLogoutListeners(){for(const t of Array.from(this._logoutListeners))try{t()}catch(e){console.error("Logout listener error:",e)}}};window.addEventListener("storage",e=>{if(e.key&&e.key===n){try{r.clear()}catch(t){console.error("Error clearing storage on logout broadcast:",t)}r._notifyLogoutListeners()}});const l=r},3270:(e,t,s)=>{"use strict";s.d(t,{ch:()=>a,lr:()=>n,ro:()=>o,w6:()=>i});const a=["Google","Colleague","Facebook","LinkedIn","Twitter","Instagram","Friend","Website","Other"];function o(e){if(!e)return"";const t=String(e).toLowerCase();return t.includes("google")?"Google":t.includes("colleague")?"Colleague":t.includes("facebook")?"Facebook":t.includes("linkedin")?"LinkedIn":t.includes("twitter")?"Twitter":t.includes("instagram")?"Instagram":t.includes("friend")||t.includes("referral")?"Friend":t.includes("website")?"Website":t.includes("other")?"Other":e}const i=["1-99 Employees (Small)","100-249 Employees (Medium)","250+ Employees (Large)","Not Decided Yet","Prefer Not to Say","Other"];function n(e){if(!e)return"";const t=String(e).toLowerCase();return t.includes("1-99 employees (small)")?"1-99 Employees (Small)":t.includes("100-249 employees (medium)")?"100-249 Employees (Medium)":t.includes("250+ employees (large)")?"250+ Employees (Large)":t.includes("not diceded yet")?"Not Decided Yet":t.includes("other")?"Other":t.includes("prefer not to say")?"Prefer Not to Say":e}},3378:(e,t,s)=>{"use strict";e.exports=s.p+"img/LeadOn.d05ebf4c.svg"},3654:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(641),o=s(33);function i(e,t,s,i,n,r){return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["form-box",{"form-box--error":s.error}])},[(0,a.RG)(e.$slots,"default",{},void 0,!0)],2)}const n={name:"FormBox",props:{error:{type:Boolean,default:!1}}};var r=s(6262);const l=(0,r.A)(n,[["render",i],["__scopeId","data-v-06d74534"]]),d=l},3718:(e,t,s)=>{"use strict";e.exports=s.p+"img/DashboardOn.c3ed0869.svg"},4220:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(6939),o=s(3193);const i={loginAny(e,t="superadmin"){return o["default"].set("role",t),o["default"].set("name",e.split("@")[0]||"User"),o["default"].set("email",e),!0},isAuthenticated(){const e=o["default"].get("role");return!!e&&Object.values(a.gg).includes(e)},getRole(){return o["default"].get("role")||""},canAccess(e,t){const s=o["default"].get("role");return(0,a.Zf)(s,e,t)}},n=i},4631:(e,t,s)=>{"use strict";s.d(t,{A:()=>C});var a=s(641),o=s(33);const i=s.p+"img/ExpandLines.6ac00fd3.svg",n={class:"main-layout"},r={class:"page-content"};function l(e,t,s,l,d,u){const c=(0,a.g2)("Navbar"),p=(0,a.g2)("Sidebar"),m=(0,a.g2)("Footer");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",{class:"sidebar-circle-btn",onClick:t[0]||(t[0]=(...e)=>u.toggleSidebar&&u.toggleSidebar(...e)),style:(0,o.Tr)({left:u.sidebarBtnLeft})},[...t[1]||(t[1]=[(0,a.Lk)("img",{src:i,alt:"Menu",class:"sidebar-circle-icon"},null,-1)])],4),(0,a.Lk)("div",{class:(0,o.C4)(["main-content",{"sidebar-expanded":d.sidebarExpanded}])},[(0,a.bF)(c,{class:"fixed-navbar",sidebarExpanded:d.sidebarExpanded},null,8,["sidebarExpanded"]),(0,a.bF)(p,{role:d.userRole,expanded:d.sidebarExpanded,onMenuItemClicked:u.handleSidebarClick},null,8,["role","expanded","onMenuItemClicked"]),(0,a.Lk)("div",r,[(0,a.RG)(e.$slots,"default",{},void 0,!0)]),(0,a.bF)(m,{class:"sticky-footer",style:{"z-index":"1",position:"relative","pointer-events":"none",background:"transparent"}})],2)])}var d=s(6499),u=s(1232),c=s(3130);const p={class:"footer-box"},m={key:0,class:"footer-logo-text-vertical center-footer-logo-block"},h={key:1,class:"footer-logo-text-vertical center-footer-logo-block"};function g(e,t,s,i,n,r){return(0,a.uX)(),(0,a.CE)("footer",p,[(0,a.Lk)("div",{class:(0,o.C4)(["footer-controls",{"footer-controls-flex":!s.withPagination}])},[s.withPagination?((0,a.uX)(),(0,a.CE)("div",m,[...t[0]||(t[0]=[(0,a.Lk)("img",{src:c,alt:"Logo",class:"footer-logo-vertical responsive-footer-logo"},null,-1),(0,a.Lk)("span",{class:"footer-text-vertical"},"©2025 Dolphin | All Rights Reserved",-1)])])):((0,a.uX)(),(0,a.CE)("div",h,[...t[1]||(t[1]=[(0,a.Lk)("img",{src:c,alt:"Logo",class:"footer-logo-vertical responsive-footer-logo"},null,-1),(0,a.Lk)("span",{class:"footer-text-vertical"},"©2025 Dolphin | All Rights Reserved",-1)])]))],2)])}const f={name:"Footer",props:{withPagination:{type:Boolean,default:!1}}};var b=s(6262);const v=(0,b.A)(f,[["render",g],["__scopeId","data-v-8f083ec8"]]),y=v;var k=s(888),w=s(3413),_=s(4220),L=s(3193);const A={name:"MainLayout",components:{Sidebar:d.A,Navbar:u.A,Footer:y,Toast:w.A},data(){return{userRole:_.A.getRole()||"User",sidebarExpanded:!1,windowWidth:window.innerWidth}},computed:{sidebarBtnLeft(){return this.windowWidth<=425?this.sidebarExpanded?"calc(200px - 15px)":"-15px":this.sidebarExpanded?"calc(200px - 15px)":"calc(65px - 15px)"}},methods:{toggleSidebar(){this.sidebarExpanded=!this.sidebarExpanded,L["default"].set("sidebarExpanded",this.sidebarExpanded?"1":"0")},handleSidebarClick(){this.sidebarExpanded&&this.windowWidth<768&&this.toggleSidebar()},handleResize(){this.windowWidth=window.innerWidth}},mounted(){window.addEventListener("resize",this.handleResize);const e=L["default"].get("sidebarExpanded");this.sidebarExpanded="1"===e,this.$app&&this.$app.use&&this.$app.use(k.A)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)}},S=(0,b.A)(A,[["render",l],["__scopeId","data-v-79fa7d50"]]),C=S},4682:(e,t,s)=>{"use strict";e.exports=s.p+"img/Image.c62cbb17.svg"},5298:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var a=s(641),o=s(33),i=s(3751);const n={class:"form-input-icon"},r=["type","placeholder","readonly","disabled"],l={key:1,class:"form-input-noicon-wrap"},d=["type","placeholder","readonly","disabled"];function u(e,t,s,u,c,p){const m=(0,a.g2)("FormBox");return(0,a.uX)(),(0,a.Wv)(m,{error:s.error},{default:(0,a.k6)(()=>[s.icon?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",n,[(0,a.Lk)("i",{class:(0,o.C4)(s.icon)},null,2)]),(0,a.bo)((0,a.Lk)("input",(0,a.v6)(e.$attrs,{type:s.type,placeholder:s.placeholder,"onUpdate:modelValue":t[0]||(t[0]=e=>p.inputValue=e),readonly:s.readonly,disabled:s.disabled,class:s.icon?"form-input with-icon":"form-input",onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",p.inputValue))}),null,16,r),[[i.hp,p.inputValue]])],64)):((0,a.uX)(),(0,a.CE)("div",l,[(0,a.bo)((0,a.Lk)("input",(0,a.v6)(e.$attrs,{type:s.type,placeholder:s.placeholder,"onUpdate:modelValue":t[2]||(t[2]=e=>p.inputValue=e),readonly:s.readonly,disabled:s.disabled,class:"form-input",onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",p.inputValue))}),null,16,d),[[i.hp,p.inputValue]])]))]),_:1},8,["error"])}var c=s(3654);const p={name:"FormInput",components:{FormBox:c.A},props:{modelValue:[String,Number],type:{type:String,default:"text"},placeholder:{type:String,default:""},icon:{type:String,default:""},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{inputValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{focus(){this.$nextTick(()=>{const e=this.$el&&this.$el.querySelector("input");e&&"function"===typeof e.focus&&e.focus()})}}};var m=s(6262);const h=(0,m.A)(p,[["render",u],["__scopeId","data-v-4f1c2880"]]),g=h},5753:(e,t,s)=>{"use strict";e.exports=s.p+"img/VectorUp.73e120cf.svg"},6236:(e,t,s)=>{"use strict";e.exports=s.p+"img/DashboardOff.9c2c91ae.svg"},6499:(e,t,s)=>{"use strict";s.d(t,{A:()=>_});var a=s(641),o=s(33),i=s(3130);const n=["aria-hidden","tabindex"],r={key:0,class:"sidebar-logo-label"},l={key:0,class:"sidebar-menu"},d=["src"],u=["src"],c=["src"],p=["src"],m=["src"],h=["src"],g=["src"],f=["src"];function b(e,t,b,v,y,k){const w=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("aside",{class:(0,o.C4)(["sidebar",{expanded:b.expanded,"sidebar-disabled":b.sidebarDisabled}]),"aria-hidden":b.sidebarDisabled?"true":null,tabindex:b.sidebarDisabled?-1:null,role:"navigation","aria-label":"Sidebar"},[(0,a.Lk)("div",{class:(0,o.C4)(["sidebar-logo",{expanded:b.expanded}])},[t[0]||(t[0]=(0,a.Lk)("img",{src:i,alt:"Logo"},null,-1)),b.expanded?((0,a.uX)(),(0,a.CE)("span",r,"DOLPHIN")):(0,a.Q3)("",!0)],2),b.hideMenu?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("ul",l,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(k.menuOptions,(e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t,style:(0,o.Tr)(b.expanded?{width:"100%",display:"flex",alignItems:"center",padding:"6px",margin:0,listStyle:"none"}:k.getCircleStyle(t))},[(0,a.bF)(w,{onClick:k.handleLinkClick,to:e.route,class:(0,o.C4)(["sidebar-link",b.expanded?"sidebar-link-expanded":"",k.isActive(e.route)?"active":""]),style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",width:"100%"}},{default:(0,a.k6)(()=>[(0,a.Lk)("span",{class:(0,o.C4)(["sidebar-icon",b.expanded?"sidebar-icon-expanded":"",k.isActive(e.route)?"active":""]),style:(0,o.Tr)((b.expanded,{}))},["/dashboard"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:0,src:k.isActive("/dashboard")?s(3718):s(6236),alt:"Dashboard",class:"sidebar-svg"},null,8,d)):"/organizations"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:1,src:k.isActive("/organizations")?s(6747):s(359),alt:"Organizations",class:"sidebar-svg"},null,8,u)):"/notifications"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:2,src:k.isActive("/notifications")?s(6686):s(2820),alt:"Notifications",class:"sidebar-svg"},null,8,c)):"/user-permission"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:3,src:k.isActive("/user-permission")?s(35):s(7087),alt:"User + Permission",class:"sidebar-svg"},null,8,p)):"/leads"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:4,src:k.isActive("/leads")?s(3378):s(9752),alt:"Leads",class:"sidebar-svg"},null,8,m)):"/my-organization"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:5,src:k.isActive("/my-organization")?s(9443):s(2687),alt:"My Organization",class:"sidebar-svg"},null,8,h)):"/training-resources"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:6,src:k.isActive("/training-resources")?s(6915):s(223),alt:"Training & Resources",class:"sidebar-svg"},null,8,g)):"/assessments"===e.route?((0,a.uX)(),(0,a.CE)("img",{key:7,src:k.isActive("/assessments")?s(1259):s(3143),alt:"Assessments",class:"sidebar-svg"},null,8,f)):(0,a.Q3)("",!0)],6),b.expanded?((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,o.C4)(["sidebar-menu-label","sidebar-menu-label-expanded",k.isActive(e.route)?"active-label":""])},(0,o.v_)(e.label),3)):(0,a.Q3)("",!0)]),_:2},1032,["onClick","to","class"])],4))),128))]))],10,n)}var v=s(6939);const y={name:"Sidebar",props:{hideMenu:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},sidebarDisabled:{type:Boolean,default:!1}},computed:{role(){const e=s(3193)["default"];return e.get("role")||""},menuOptions(){if(this.hideMenu)return[];const e=[{route:"/dashboard",label:"Dashboard"},{route:"/organizations",label:"Organizations"},{route:"/notifications",label:"Notification"},{route:"/user-permission",label:"User + Permission"},{route:"/leads",label:"Leads"},{route:"/my-organization",label:"My Organization"},{route:"/training-resources",label:"Training & Resources",style:{fontSize:"0.8rem !important"}},{route:"/assessments",label:"Assessments"}];return e.filter(e=>(0,v.Zf)(this.role,"routes",e.route))}},methods:{handleLinkClick(){this.$emit("menu-item-clicked")},getCircleStyle(e){const t=0===e?24:54*e+24;return{position:"absolute",left:"calc(50% - 22.5px)",top:`${t}px`,width:"45px",height:"45px",display:"flex",justifyContent:"center",alignItems:"center",padding:0,margin:0,listStyle:"none"}},isActive(e){return"/organizations"===e?this.$route.path.startsWith("/organizations"):"/leads"===e?this.$route.path.startsWith("/leads"):"/my-organization"===e?this.$route.path.startsWith("/my-organization"):"/dashboard"===e?this.$route.path.startsWith("/dashboard"):"/notifications"===e?this.$route.path.startsWith("/notifications"):"/assessments"===e?this.$route.path.startsWith("/assessments"):"/training-resources"===e?this.$route.path.startsWith("/training-resources"):this.$route.path===e}}};var k=s(6262);const w=(0,k.A)(y,[["render",b],["__scopeId","data-v-df924b3c"]]),_=w},6686:(e,t,s)=>{"use strict";e.exports=s.p+"img/AnnouncementsOn.cff9a84e.svg"},6747:(e,t,s)=>{"use strict";e.exports=s.p+"img/Organizations+AdminsOn.01fe8cd8.svg"},6915:(e,t,s)=>{"use strict";e.exports=s.p+"img/Training&ResourcesOn.aa246fc7.svg"},6939:(e,t,s)=>{"use strict";s.d(t,{Zf:()=>i,gg:()=>a});const a={SUPERADMIN:"superadmin",DOLPHINADMIN:"dolphinadmin",USER:"user",ORGANIZATIONADMIN:"organizationadmin",SALESPERSON:"salesperson"},o={[a.SUPERADMIN]:{routes:["/dashboard","/organizations","/notifications","/leads","/leads/send-assessment","/leads/send-assessment/:id","/leads/schedule-demo","/leads/schedule-class-training","/organizations/:orgName","/organizations/:orgName","/organizations/:id","/organizations/:orgName/edit","/organizations/:id/edit","/leads/lead-capture","/leads/:id/edit","/leads/:email","/members","/my-organization/members","/assessments/send-assessment","/assessments/send-assessment/:id","/assessments/:assessmentId/summary","/user-permission","/user-permission/add","/organizations/billing-details","/profile"]},[a.DOLPHINADMIN]:{routes:["/dashboard","/leads","/leads/send-assessment","/leads/send-assessment/:id","/leads/schedule-demo","/leads/schedule-class-training","/leads/lead-capture","/leads/:id/edit","/leads/:email","/assessments/send-assessment","/assessments/send-assessment/:id","/assessments/:assessmentId/summary","/get-notification","/subscriptions/plans","/organizations/billing-details","/profile"]},[a.USER]:{routes:["/dashboard","/assessments","/assessments/:assessmentId/summary","/get-notification","/subscriptions/plans","/organizations/billing-details","/profile","/subscriptions/plans","/manage-subscription"]},[a.ORGANIZATIONADMIN]:{routes:["/dashboard","/my-organization","/training-resources","/assessments","/members","/my-organization/members","/assessments","/assessments/:assessmentId/summary","/get-notification","/subscriptions/plans","/organizations/billing-details","/profile"]},[a.SALESPERSON]:{routes:["/dashboard","/leads","/leads/send-assessment","/leads/send-assessment/:id","/assessments/send-assessment","/assessments/send-assessment/:id","/assessments/:assessmentId/summary","/get-notification","/subscriptions/plans","/organizations/billing-details","/profile","/subscriptions/plans","/manage-subscription"]}};function i(e,t,s){return!!o[e]&&("routes"===t?o[e][t].some(e=>{if(e===s)return!0;const t=new RegExp("^"+e.replace(/:[^/]+/g,"[^/]+")+"$");return t.test(s)}):o[e][t]&&o[e][t].includes(s))}},7035:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var a=s(641),o=s(33),i=s(3751);const n={class:"form-box",ref:"dropdownRoot"},r={key:0,class:"form-input-icon"},l=["placeholder","value","disabled"],d=["onClick"];function u(e,t,s,u,c,p){return(0,a.uX)(),(0,a.CE)("div",n,[s.icon?((0,a.uX)(),(0,a.CE)("span",r,[(0,a.Lk)("i",{class:(0,o.C4)(s.icon)},null,2)])):(0,a.Q3)("",!0),(0,a.Lk)("input",{type:"text",placeholder:s.placeholder,readonly:"",value:p.selectedLabel,class:"form-input-with-icon",onClick:t[0]||(t[0]=(...e)=>p.toggleDropdown&&p.toggleDropdown(...e)),disabled:s.disabled,style:(0,o.Tr)(p.inputStyle)},null,12,l),t[2]||(t[2]=(0,a.Lk)("span",{class:"form-dropdown-chevron"},[(0,a.Lk)("i",{class:"fas fa-chevron-down"})],-1)),c.showDropdown?((0,a.uX)(),(0,a.Wv)(a.Im,{key:1,to:"body"},[(0,a.Lk)("div",{ref:"dropdownEl",class:"dropdown-list",style:(0,o.Tr)(c.dropdownStyle)},[(0,a.bo)((0,a.Lk)("input",{class:"dropdown-search",placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=e=>c.search=e)},null,512),[[i.Jo,c.search]]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.filteredOptions,e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:"dropdown-item",onClick:t=>p.selectOption(e)},[(0,a.Lk)("span",null,(0,o.v_)(e.text),1)],8,d))),128))],4)])):(0,a.Q3)("",!0)],512)}const c={name:"FormDropdown",props:{modelValue:[String,Number],options:{type:Array,required:!1,default:null},icon:{type:String,default:""},placeholder:{type:String,default:"Select"},disabled:{type:Boolean,default:!1},paddingLeft:{type:[Number,String],default:36},paddingRight:{type:[Number,String],default:36}},data(){return{showDropdown:!1,search:"",dropdownStyle:{}}},computed:{selectedLabel(){if(this.options&&this.options.length){const e=this.options.find(e=>e.value===this.modelValue);return e?e.text:this.placeholder}return this.placeholder},inputStyle(){const e=Number(this.paddingLeft)||36,t=Number(this.paddingRight)||36;return{padding:`0 ${t}px 0 ${e}px`}},filteredOptions(){let e=[];if(this.options&&this.options.length)e=this.options;else if(this.$slots.default){const t=this.$slots.default();e=t.filter(e=>"option"===e.type&&e.props&&void 0!==e.props.value).map(e=>{let t="";return"string"===typeof e.children?t=e.children:Array.isArray(e.children)?t=e.children.join(""):console.warn("Unsupported slot child type in FormDropdown"),{value:e.props.value,text:t}})}return this.search?e.filter(e=>(e.text||"").toLowerCase().includes(this.search.toLowerCase())):e}},methods:{toggleDropdown(){this.disabled||(this.showDropdown=!this.showDropdown,this.showDropdown&&this.$nextTick(()=>this.updateDropdownPosition()))},selectOption(e){this.$emit("update:modelValue",e.value),this.$emit("change",e.value),this.showDropdown=!1,this.search=""},handleClickOutside(e){if(!this.showDropdown)return;const t=this.$refs.dropdownRoot,s=this.$refs.dropdownEl,a=t&&t.contains(e.target),o=s&&s.contains(e.target);a||o||(this.showDropdown=!1)},updateDropdownPosition(){const e=this.$refs.dropdownRoot,t=this.$refs.dropdownEl;if(!e||!t)return;const s=e.getBoundingClientRect(),a=s.bottom+window.scrollY+6,o=s.left+window.scrollX,i=s.width;this.dropdownStyle={position:"absolute",top:`${a}px`,left:`${o}px`,width:`${i}px`,zIndex:99999}}},mounted(){document.addEventListener("mousedown",this.handleClickOutside),window.addEventListener("resize",this.updateDropdownPosition),window.addEventListener("scroll",this.updateDropdownPosition,!0)},watch:{showDropdown(e){e&&this.$nextTick(()=>this.updateDropdownPosition())}},beforeUnmount(){document.removeEventListener("mousedown",this.handleClickOutside),window.removeEventListener("resize",this.updateDropdownPosition),window.removeEventListener("scroll",this.updateDropdownPosition,!0)}};var p=s(6262);const m=(0,p.A)(c,[["render",u],["__scopeId","data-v-fcb69eca"]]),h=m},7087:(e,t,s)=>{"use strict";e.exports=s.p+"img/Users+PermissionsOff.1edf9255.svg"},7392:(e,t,s)=>{"use strict";e.exports=s.p+"img/Lines.7c893dea.svg"},7420:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(641);const o={class:"form-row"};function i(e,t,s,i,n,r){return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.RG)(e.$slots,"default",{},void 0,!0)])}const n={name:"FormRow"};var r=s(6262);const l=(0,r.A)(n,[["render",i],["__scopeId","data-v-4abb1284"]]),d=l},8634:(e,t,s)=>{"use strict";e.exports=s.p+"img/VectorDown.702848dc.svg"},9205:(e,t,s)=>{"use strict";s.d(t,{fetchCurrentUser:()=>n});var a=s(4335),o=s(3193);const i="http://127.0.0.1:8000";async function n(){try{const e=o["default"].get("authToken"),t={};e&&(t["Authorization"]=`Bearer ${e}`);const s=await a.A.get(`${i}/api/user`,{headers:t});return s.data}catch(e){return null}}},9435:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var a=s(4335),o=s(3193);async function i(){const e=o["default"].get("authToken"),t="http://127.0.0.1:8000",s=await a.A.get(`${t}/api/subscription/status`,{headers:{Authorization:`Bearer ${e}`}});return s.data&&s.data.status?o["default"].set("subscription_status",s.data.status):o["default"].remove("subscription_status"),s.data}},9443:(e,t,s)=>{"use strict";e.exports=s.p+"img/MyOrganizationOn.7e01d8ef.svg"},9752:(e,t,s)=>{"use strict";e.exports=s.p+"img/LeadOff.a5287a9a.svg"}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,(()=>{var e=[];s.O=(t,a,o,i)=>{if(!a){var n=1/0;for(u=0;u<e.length;u++){for(var[a,o,i]=e[u],r=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every(e=>s.O[e](a[l]))?a.splice(l--,1):(r=!1,i<n&&(n=i));if(r){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,a)=>(s.f[a](e,t),t),[]))})(),(()=>{s.u=e=>"js/"+e+"."+{9:"e66e2171",18:"8de04d18",30:"b4907280",44:"a0f3f71a",74:"606f701e",110:"f0fd433f",122:"9146bba8",143:"caaf02ef",183:"218a62a3",257:"86e0cd5c",310:"0d33640a",314:"d5c9647b",323:"a8c41976",369:"826530af",397:"ce1896cf",411:"3d8006ba",514:"f11e78bd",596:"73ad6512",626:"75fcef0a",658:"a2af94f7",741:"652ff729",895:"9021b24a",924:"87988e49",926:"e4ea5701",951:"7b75a01d",989:"e902f0e1"}[e]+".js"})(),(()=>{s.miniCssF=e=>"css/"+e+"."+{9:"6b7ae211",18:"0c92cc4a",30:"785855ac",44:"dab189d8",74:"b4023db9",122:"65355510",143:"9f5c7db0",183:"cadeef4f",257:"62582dfc",310:"103cfb75",323:"1144d1cd",369:"29ab5873",397:"5c525697",411:"532b9fa7",514:"a964cd3d",596:"511f7b89",626:"24280ef3",658:"96959164",741:"1366ba82",895:"c77c1652",924:"ed117cb2",926:"627c30db",951:"ec9178e9",989:"4b6b115d"}[e]+".css"})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="dolphin:";s.l=(a,o,i,n)=>{if(e[a])e[a].push(o);else{var r,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==t+i){r=c;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+i),r.src=a),e[a]=[o];var p=(t,s)=>{r.onerror=r.onload=null,clearTimeout(m);var o=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach(e=>e(s)),t)return t(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,a,o,i)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",s.nc&&(n.nonce=s.nc);var r=s=>{if(n.onerror=n.onload=null,"load"===s.type)o();else{var a=s&&s.type,r=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=r,n.parentNode&&n.parentNode.removeChild(n),i(l)}};return n.onerror=n.onload=r,n.href=t,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},t=(e,t)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var o=s[a],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var n=document.getElementsByTagName("style");for(a=0;a<n.length;a++){o=n[a],i=o.getAttribute("data-href");if(i===e||i===t)return o}},a=a=>new Promise((o,i)=>{var n=s.miniCssF(a),r=s.p+n;if(t(n,r))return o();e(a,r,null,o,i)}),o={524:0};s.f.miniCss=(e,t)=>{var s={9:1,18:1,30:1,44:1,74:1,122:1,143:1,183:1,257:1,310:1,323:1,369:1,397:1,411:1,514:1,596:1,626:1,658:1,741:1,895:1,924:1,926:1,951:1,989:1};o[e]?t.push(o[e]):0!==o[e]&&s[e]&&t.push(o[e]=a(e).then(()=>{o[e]=0},t=>{throw delete o[e],t}))}}})(),(()=>{var e={524:0};s.f.j=(t,a)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((s,a)=>o=e[t]=[s,a]);a.push(o[2]=i);var n=s.p+s.u(t),r=new Error,l=a=>{if(s.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",r.name="ChunkLoadError",r.type=i,r.request=n,o[1](r)}};s.l(n,l,"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,a)=>{var o,i,[n,r,l]=a,d=0;if(n.some(t=>0!==e[t])){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var u=l(s)}for(t&&t(a);d<n.length;d++)i=n[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self["webpackChunkdolphin"]=self["webpackChunkdolphin"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=s.O(void 0,[504],()=>s(2777));a=s.O(a)})();
//# sourceMappingURL=app.2d850d1c.js.map