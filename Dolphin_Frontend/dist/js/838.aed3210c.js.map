{"version":3,"file":"js/838.aed3210c.js","mappings":"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","sources":["webpack://dolphin/./src/components/Common/AssessmentAnswerPage.vue","webpack://dolphin/./src/components/Common/AssessmentAnswerPage.vue?5403"],"sourcesContent":["<template>\n  <div class=\"assessment-answer-page\">\n    <img\n      src=\"@/assets/images/Lines.svg\"\n      alt=\"Lines\"\n      class=\"bg-lines\"\n    />\n    <img\n      src=\"@/assets/images/Image.svg\"\n      alt=\"Illustration\"\n      class=\"bg-illustration\"\n    />\n    <div class=\"assessment-card\">\n      <Toast />\n      <h2 class=\"assessment-title\">{{ assessment?.name }}</h2>\n      <form @submit.prevent=\"submitAnswers\">\n        <div\n          v-for=\"q in assessment?.questions || []\"\n          :key=\"q.assessment_question_id\"\n          class=\"question-block\"\n        >\n          <label\n            :for=\"'q-' + q.assessment_question_id\"\n            class=\"question-label\"\n            >{{ q.text }}</label\n          >\n          <input\n            v-model=\"answers[q.assessment_question_id]\"\n            :id=\"'q-' + q.assessment_question_id\"\n            type=\"text\"\n            class=\"question-input\"\n            required\n          />\n        </div>\n        <button\n          type=\"submit\"\n          :disabled=\"loading\"\n          class=\"submit-btn\"\n        >\n          <span v-if=\"loading\">Submitting...</span>\n          <span v-else>Submit</span>\n        </button>\n        <!-- Toast notifications will be used for success/error messages -->\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Toast from 'primevue/toast';\nimport { useToast } from 'primevue/usetoast';\n\nexport default {\n  name: 'AssessmentAnswerPage',\n  components: { Toast },\n  setup() {\n    const toast = useToast();\n    return { toast };\n  },\n  data() {\n    return {\n      assessment: null,\n      answers: {},\n      loading: false,\n    };\n  },\n  async created() {\n    const token = this.$route.params.token;\n    try {\n      const API_BASE_URL =\n        process.env.VUE_APP_API_BASE_URL || 'http://127.0.0.1:8000';\n      const res = await axios.get(\n        `${API_BASE_URL}/api/assessment/answer/${token}`\n      );\n      this.assessment = res.data.assessment;\n      this.group_id = res.data.group ? res.data.group.id : null;\n      this.member_id = res.data.member ? res.data.member.id : null;\n      for (const q of this.assessment.questions) {\n        this.answers[q.assessment_question_id] = '';\n      }\n    } catch (e) {\n      this.$router.replace({\n        name: 'ThanksPage',\n        query: { already: '1' },\n      });\n    }\n  },\n  methods: {\n    async submitAnswers() {\n      this.loading = true;\n      const token = this.$route.params.token;\n      const API_BASE_URL =\n        process.env.VUE_APP_API_BASE_URL || 'http://127.0.0.1:8000';\n      try {\n        // Map answers to include organization_assessment_question_id\n        const answersPayload = this.assessment.questions.map((q) => ({\n          assessment_question_id: q.assessment_question_id,\n          organization_assessment_question_id: q.question_id, // question_id is org_assessment_question_id from backend\n          answer: this.answers[q.assessment_question_id],\n        }));\n        const payload = {\n          answers: answersPayload,\n          group_id: this.group_id,\n          member_id: this.member_id,\n        };\n        const res = await axios.post(\n          `${API_BASE_URL}/api/assessment/answer/${token}`,\n          payload\n        );\n        this.$router.replace({\n          name: 'ThanksPage',\n        });\n      } catch (e) {\n        this.toast.add({\n          severity: 'error',\n          summary: 'Submission failed.',\n          life: 3500,\n        });\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Login/Register style background and card */\n.assessment-answer-page {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  background: #f8f9fb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n}\n.bg-lines {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 250px;\n  height: auto;\n  z-index: 0;\n}\n.bg-illustration {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 300px;\n  height: auto;\n  z-index: 0;\n}\n.assessment-card {\n  position: relative;\n  background: #fff;\n  border-radius: 24px;\n  border: 1px solid #ebebeb;\n  box-shadow: 0 2px 16px 0 rgba(33, 150, 243, 0.04);\n  padding: 48px 48px 32px 48px;\n  text-align: center;\n  z-index: 1;\n  max-width: 480px;\n  width: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.assessment-title {\n  text-align: center;\n  font-size: 2rem;\n  font-weight: 600;\n  color: #234056;\n  margin-bottom: 8px;\n  font-family: 'Helvetica Neue LT Std', Arial, sans-serif;\n}\n.question-block {\n  margin-bottom: 24px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.question-label {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.5rem;\n  color: #333;\n}\n.question-input {\n  padding: 12px 16px;\n  border: 1.5px solid #e0e0e0;\n  border-radius: 12px;\n  font-size: 1rem;\n  background: #f9fafb;\n  transition: border-color 0.18s;\n  outline: none;\n  box-sizing: border-box;\n}\n.question-input:focus {\n  border-color: #0074c2;\n  background: #fff;\n}\n.submit-btn {\n  width: 100%;\n  padding: 14px;\n  background: #0074c2;\n  color: #fff;\n  border: none;\n  border-radius: 12px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n  margin-bottom: 32px;\n  margin-top: 8px;\n  transition: background 0.2s;\n  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.08);\n}\n.submit-btn:disabled {\n  background: #b0bec5;\n  cursor: not-allowed;\n}\n\n@media (max-width: 1200px) {\n  .bg-lines {\n    width: 180px;\n    left: 1vw;\n    top: 8vh;\n  }\n  .bg-illustration {\n    width: 220px;\n    right: 1vw;\n    bottom: 8vh;\n  }\n  .assessment-card {\n    padding: 32px;\n    max-width: 400px;\n  }\n}\n@media (max-width: 768px) {\n  .bg-lines {\n    width: 120px;\n    left: -20px;\n    top: -20px;\n  }\n  .bg-illustration {\n    width: 150px;\n    right: -20px;\n    bottom: -20px;\n  }\n  .assessment-card {\n    padding: 24px;\n    margin: 0 16px;\n  }\n  .assessment-title {\n    font-size: 1.8rem;\n  }\n  .question-input {\n    font-size: 0.9rem;\n  }\n  .submit-btn {\n    font-size: 1rem;\n    padding: 12px;\n  }\n}\n/* Modern card style */\n.assessment-answer-page {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #f4f7fa;\n}\n.bg-lines {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 250px;\n  height: auto;\n  z-index: 0;\n}\n\n.bg-illustration {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 300px;\n  height: auto;\n  z-index: 0;\n}\n.assessment-card {\n  background: #fff;\n  padding: 2.5rem 2rem 2rem 2rem;\n  border-radius: 16px;\n  box-shadow: 18px 20px 20px 20px rgba(0, 0, 0, 0.08);\n  max-width: 480px;\n  width: 100%;\n}\n.assessment-title {\n  text-align: center;\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 2rem;\n  color: #1a237e;\n  letter-spacing: 1px;\n}\n.question-block {\n  margin-bottom: 1.5rem;\n  display: flex;\n  flex-direction: column;\n}\n.question-label {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.5rem;\n  color: #333;\n}\n.question-input {\n  padding: 0.6rem 1rem;\n  border: 1px solid #cfd8dc;\n  border-radius: 6px;\n  font-size: 1rem;\n  background: #f9fafb;\n  transition: border 0.2s;\n}\n.question-input:focus {\n  border-color: #1976d2;\n  outline: none;\n  background: #fff;\n}\n.submit-btn {\n  width: 100%;\n  padding: 0.75rem 0;\n  background: linear-gradient(90deg, #1976d2 0%, #42a5f5 100%);\n  color: #fff;\n  font-size: 1.1rem;\n  font-weight: 600;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  margin-top: 1rem;\n  transition: background 0.2s, box-shadow 0.2s;\n  box-shadow: 0 2px 8px rgba(25, 118, 210, 0.08);\n}\n.submit-btn:disabled {\n  background: #b0bec5;\n  cursor: not-allowed;\n}\n\n@media (max-width: 1200px) {\n  .bg-lines {\n    width: 180px;\n    left: 1vw;\n    top: 8vh;\n  }\n  .bg-illustration {\n    width: 220px;\n    right: 1vw;\n    bottom: 8vh;\n  }\n}\n@media (max-width: 768px) {\n  .bg-lines {\n    width: 120px;\n    left: -20px;\n    top: -20px;\n  }\n  .bg-illustration {\n    width: 150px;\n    right: -20px;\n    bottom: -20px;\n  }\n}\n</style>\n","import { render } from \"./AssessmentAnswerPage.vue?vue&type=template&id=718bb9bb&scoped=true\"\nimport script from \"./AssessmentAnswerPage.vue?vue&type=script&lang=js\"\nexport * from \"./AssessmentAnswerPage.vue?vue&type=script&lang=js\"\n\nimport \"./AssessmentAnswerPage.vue?vue&type=style&index=0&id=718bb9bb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-718bb9bb\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","src","_imports_0","alt","_imports_1","_hoisted_2","_createVNode","_component_Toast","_hoisted_3","_toDisplayString","$data","assessment","name","onSubmit","_cache","_withModifiers","args","$options","submitAnswers","_Fragment","_renderList","questions","q","key","assessment_question_id","for","text","_hoisted_4","answers","$event","id","type","required","disabled","loading","_hoisted_7","_hoisted_8","components","Toast","setup","toast","useToast","data","created","token","this","$route","params","API_BASE_URL","process","res","axios","get","group_id","group","member_id","member","e","$router","replace","query","already","methods","answersPayload","map","organization_assessment_question_id","question_id","answer","payload","post","add","severity","summary","life","__exports__","render"],"sourceRoot":""}