"use strict";(self["webpackChunkdolphin"]=self["webpackChunkdolphin"]||[]).push([[314],{733:(e,t,o)=>{o.d(t,{A:()=>v});var i=o(641),n=o(33),s=o(8634);const r=o.p+"img/VectorLeft.078c6ba0.svg",l=o.p+"img/VectorRight.c1a1a195.svg",a={class:"footer-box"},c={class:"footer-controls split-footer-controls"},d={class:"notifications-page-size-dropdown"},p={key:0,class:"notifications-page-size-menu",ref:"pageSizeMenu"},u=["onClick"],h={class:"notifications-pagination"},g=["disabled"],m=["onClick"],f=["disabled"];function b(e,t,o,b,y,w){return(0,i.uX)(),(0,i.CE)("footer",a,[(0,i.Lk)("div",c,[(0,i.Lk)("div",d,[(0,i.Lk)("button",{class:"notifications-page-size-btn",onClick:t[0]||(t[0]=t=>e.$emit("togglePageDropdown")),ref:"pageSizeBtn"},[(0,i.eW)((0,n.v_)(o.pageSize)+"/page ",1),t[3]||(t[3]=(0,i.Lk)("img",{src:s,class:"notifications-page-size-arrow",alt:"Dropdown"},null,-1))],512),o.showPageDropdown?((0,i.uX)(),(0,i.CE)("div",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.pageSizes,t=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,n.C4)(["notifications-page-size-option",{selected:o.pageSize===t}]),onClick:o=>e.$emit("selectPageSize",t)},(0,n.v_)(t)+"/page ",11,u))),128))],512)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",h,[(0,i.Lk)("button",{class:"notifications-pagination-btn prev",disabled:1===o.currentPage,onClick:t[1]||(t[1]=t=>e.$emit("goToPage",o.currentPage-1))},[...t[4]||(t[4]=[(0,i.Lk)("img",{src:r,alt:"Previous",class:"pagination-btn-icon"},null,-1),(0,i.Lk)("span",{class:"pagination-btn-text prev-text"},"Previous",-1)])],8,g),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.computedPaginationPages,t=>((0,i.uX)(),(0,i.CE)(i.FK,null,["..."!==t?((0,i.uX)(),(0,i.CE)("button",{key:t+"-page",class:(0,n.C4)(["notifications-pagination-page",{selected:t===o.currentPage}]),onClick:o=>e.$emit("goToPage",t)},(0,n.v_)(t),11,m)):((0,i.uX)(),(0,i.CE)("span",{key:"ellipsis-"+Math.random(),class:"notifications-pagination-page"},"..."))],64))),256)),(0,i.Lk)("button",{class:"notifications-pagination-btn next",disabled:o.currentPage===o.totalPages,onClick:t[2]||(t[2]=t=>e.$emit("goToPage",o.currentPage+1))},[...t[5]||(t[5]=[(0,i.Lk)("span",{class:"pagination-btn-text next-text"},"Next",-1),(0,i.Lk)("img",{src:l,alt:"Next",class:"pagination-btn-icon"},null,-1)])],8,f)])])])}const y={name:"Pagination",props:{withPagination:{type:Boolean,default:!1},pageSize:Number,pageSizes:Array,showPageDropdown:Boolean,currentPage:Number,totalPages:{type:Number,default:10},paginationPages:Array},computed:{computedPaginationPages(){const e=this.totalPages||10,t=this.currentPage||1;return e<=7?Array.from({length:e},(e,t)=>t+1):t<=3?[1,2,3,4,"...",e-1,e]:4===t?[1,3,4,5,"...",e-1,e]:5===t?[1,4,5,6,"...",e-1,e]:6===t?[1,5,6,7,"...",e-1,e]:7===t?[1,2,"...",6,7,8,e,e-1].filter((e,t,o)=>o.indexOf(e)===t):t===e-2?[1,2,"...",e-3,e-2,e-1,e]:t===e-1||t===e?[1,2,"...",e-2,e-1,e]:[1,2,"...",t-1,t,t+1,"...",e-1,e].filter((e,t,o)=>o.indexOf(e)===t)}},mounted(){document.addEventListener("mousedown",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)},methods:{handleClickOutside(e){if(!this.showPageDropdown)return;const t=this.$refs.pageSizeMenu,o=this.$refs.pageSizeBtn;t&&!t.contains(e.target)&&o&&!o.contains(e.target)&&this.$emit("togglePageDropdown")}}};var w=o(6262);const k=(0,w.A)(y,[["render",b],["__scopeId","data-v-63376d46"]]),v=k},4117:(e,t,o)=>{o.d(t,{A:()=>b});var i=o(641),n=o(33),s=o(3751);const r={class:"form-box",ref:"dropdownRoot"},l={class:"form-input-icon"},a={class:"chip-label"},c=["onClick"],d={key:1,class:"selected-placeholder"},p=["onClick"];function u(e,t,o,u,h,g){const m=(0,i.g2)("Button");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("span",l,[(0,i.Lk)("i",{class:(0,n.C4)(o.icon)},null,2)]),(0,i.Lk)("div",{class:"selected-container",onClick:t[1]||(t[1]=(...e)=>g.toggleDropdown&&g.toggleDropdown(...e))},[o.selectedItems&&o.selectedItems.length?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:0},(0,i.pI)(o.selectedItems,(e,o)=>((0,i.uX)(),(0,i.CE)("span",{key:o,class:"selected-chip",onClick:t[0]||(t[0]=(0,s.D$)(()=>{},["stop"]))},[(0,i.Lk)("span",a,(0,n.v_)(g.labelFor(e)),1),(0,i.Lk)("button",{class:"chip-remove",onClick:(0,s.D$)(t=>g.removeSelected(e),["stop","prevent"])}," Ã— ",8,c)]))),128)):((0,i.uX)(),(0,i.CE)("span",d,(0,n.v_)(o.placeholder||"Select..."),1))]),(0,i.bF)(m,{class:"form-dropdown-chevron",onClick:(0,s.D$)(g.toggleDropdown,["stop"]),onKeydown:[(0,s.jR)((0,s.D$)(g.toggleDropdown,["prevent"]),["enter"]),(0,s.jR)((0,s.D$)(g.toggleDropdown,["prevent"]),["space"])],type:"button"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.Lk)("i",{class:"fas fa-chevron-down","aria-hidden":"true"},null,-1)])]),_:1},8,["onClick","onKeydown"]),((0,i.uX)(),(0,i.Wv)(i.Im,{to:"body"},[h.showDropdown?((0,i.uX)(),(0,i.CE)("div",{key:0,ref:"dropdownEl",class:"dropdown-list",style:(0,n.Tr)(h.dropdownStyle)},[(0,i.bo)((0,i.Lk)("input",{class:"dropdown-search",placeholder:"Search","onUpdate:modelValue":t[2]||(t[2]=e=>h.search=e)},null,512),[[s.Jo,h.search]]),o.enableSelectAll?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"dropdown-item",onClick:t[3]||(t[3]=(...e)=>g.toggleSelectAll&&g.toggleSelectAll(...e))},[t[5]||(t[5]=(0,i.Lk)("span",null,[(0,i.Lk)("strong",null,"Select All")],-1)),(0,i.Lk)("span",{class:(0,n.C4)(["dropdown-checkbox",{checked:g.isAllSelected}])},null,2)])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(g.filteredItems,e=>((0,i.uX)(),(0,i.CE)("div",{key:e[o.optionValue],class:"dropdown-item",onClick:t=>g.toggleItem(e)},[(0,i.Lk)("span",null,(0,n.v_)(e[o.optionLabel]),1),(0,i.Lk)("span",{class:(0,n.C4)(["dropdown-checkbox",{checked:o.selectedItems.some(t=>t[o.optionValue]===e[o.optionValue])}])},null,2)],8,p))),128))],4)):(0,i.Q3)("",!0)]))],512)}var h=o(3101);const g={name:"MultiSelectDropdown",components:{Button:h.A},props:{options:{type:Array,required:!0},selectedItems:{type:Array,required:!0},placeholder:{type:String,default:""},icon:{type:String,default:"fas fa-users"},optionLabel:{type:String,default:"name"},optionValue:{type:String,default:"id"},enableSelectAll:{type:Boolean,default:!1}},data(){return{showDropdown:!1,search:"",dropdownStyle:{}}},computed:{filteredItems(){return this.search?this.options.filter(e=>(e[this.optionLabel]||"").toLowerCase().includes(this.search.toLowerCase())):this.options},isAllSelected(){return!!this.filteredItems.length&&this.filteredItems.every(e=>this.selectedItems.some(t=>t[this.optionValue]===e[this.optionValue]))},selectedLabelString(){if(!Array.isArray(this.selectedItems)||0===this.selectedItems.length)return"";const e=e=>{try{const t=new WeakSet;return JSON.stringify(e,(e,o)=>{if(o&&"object"===typeof o){if(t.has(o))return"[Circular]";t.add(o)}return o},2)}catch(t){console.error("Error stringifying object",t);try{if(e&&"object"===typeof e){const t=Object.keys(e).slice(0,4).map(t=>`${t}:${String(e[t])}`);return t.join(" ")}}catch(o){console.error("Error in fallback stringify",o)}return String(e)}},t=[this.optionLabel,"name","label","title","role","display_name","text"],o=this.selectedItems.map(o=>{if(null===o||void 0===o)return"";if("string"===typeof o||"number"===typeof o){const e=this.options.find(e=>e[this.optionValue]===o);return!e||"string"!==typeof e[this.optionLabel]&&"number"!==typeof e[this.optionLabel]?String(o):e[this.optionLabel]}if("object"===typeof o){for(const e of t)if(o&&Object.hasOwn(o,e)){const t=o[e];if("string"===typeof t&&t.trim())return t.trim();if("number"===typeof t)return String(t)}for(const t of["role","user","data"])if(o[t]&&"object"===typeof o[t]){const i=o[t],n=i[this.optionLabel];if(void 0!==n)return"string"===typeof n||"number"===typeof n?String(n):e(n);if(void 0!==i.name)return"string"===typeof i.name||"number"===typeof i.name?String(i.name):e(i.name)}if(void 0!==o[this.optionValue]){const e=this.options.find(e=>e[this.optionValue]===o[this.optionValue]);if(e&&("string"===typeof e[this.optionLabel]||"number"===typeof e[this.optionLabel]))return e[this.optionLabel]}try{const e=Object.values(o||{}),t=e.find(e=>"string"===typeof e&&e.trim());if(t)return t.trim()}catch(i){console.error("Error extracting string from object",i)}return e(o)}return String(o)}).filter(e=>""!==e);return o.join(", ")}},mounted(){document.addEventListener("mousedown",this.handleClickOutside),window.addEventListener("resize",this.updateDropdownPosition),window.addEventListener("scroll",this.updateDropdownPosition,!0)},beforeDestroy(){document.removeEventListener("mousedown",this.handleClickOutside),window.removeEventListener("resize",this.updateDropdownPosition),window.removeEventListener("scroll",this.updateDropdownPosition,!0)},methods:{labelFor(e){return null===e||void 0===e?"":this.isPrimitive(e)?this.labelForPrimitive(e):"object"===typeof e?this.labelForObject(e):String(e)},isPrimitive(e){return"string"===typeof e||"number"===typeof e},labelForPrimitive(e){const t=this.options.find(t=>t[this.optionValue]===e);return t&&this.isPrimitive(t[this.optionLabel])?String(t[this.optionLabel]):String(e)},labelForObject(e){const t=e[this.optionLabel]||e.name||e.label||e.title;if(void 0!==t)return this.stringifyLabel(t);if(void 0!==e[this.optionValue]){const t=this.options.find(t=>t[this.optionValue]===e[this.optionValue]);if(t&&t[this.optionLabel])return t[this.optionLabel]}return JSON.stringify(e)},stringifyLabel(e){if(this.isPrimitive(e))return String(e);try{return JSON.stringify(e)}catch{return String(e)}},removeSelected(e){const t=this.selectedItems.filter(t=>{const o="object"===typeof t?t[this.optionValue]:t,i="object"===typeof e?e[this.optionValue]:e;return o!==i});this.$emit("update:selectedItems",t)},toggleDropdown(){this.showDropdown=!this.showDropdown,this.showDropdown&&this.$nextTick(()=>this.updateDropdownPosition())},toggleItem(e){const t=this.selectedItems.findIndex(t=>t[this.optionValue]===e[this.optionValue]);t>-1?this.$emit("update:selectedItems",this.selectedItems.filter(t=>t[this.optionValue]!==e[this.optionValue])):this.$emit("update:selectedItems",[...this.selectedItems,e])},toggleSelectAll(){if(this.isAllSelected){const e=this.filteredItems.map(e=>e[this.optionValue]),t=this.selectedItems.filter(t=>!e.includes(t[this.optionValue]));this.$emit("update:selectedItems",t)}else{const e=[...this.selectedItems];this.filteredItems.forEach(t=>{e.some(e=>e[this.optionValue]===t[this.optionValue])||e.push(t)}),this.$emit("update:selectedItems",e)}},handleClickOutside(e){if(!this.showDropdown)return;const t=this.$refs.dropdownRoot,o=this.$refs.dropdownEl,i=t&&t.contains(e.target),n=o&&o.contains(e.target);i||n||(this.showDropdown=!1)},updateDropdownPosition(){const e=this.$refs.dropdownRoot,t=this.$refs.dropdownEl;if(!e||!t)return;const o=e.getBoundingClientRect(),i=o.bottom+window.scrollY+6,n=o.left+window.scrollX,s=o.width;this.dropdownStyle={position:"absolute",top:`${i}px`,left:`${n}px`,width:`${s}px`,zIndex:99999}}}};var m=o(6262);const f=(0,m.A)(g,[["render",u],["__scopeId","data-v-8e75e280"]]),b=f},5629:(e,t,o)=>{o.d(t,{A:()=>u});var i=o(641),n=o(33),s=o(3751);const r=o.p+"img/up-down.53d62c9d.svg",l=["role","tabindex","onClick","onKeyup"];function a(e,t,o,a,c,d){return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("colgroup",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.columns,(e,t)=>((0,i.uX)(),(0,i.CE)("col",{key:"col-"+(e.key||t),class:(0,n.C4)(e.width||e.minWidth),style:(0,n.Tr)(d.getColumnStyle(e))},null,6))),128))]),(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.columns,(t,a)=>((0,i.uX)(),(0,i.CE)("th",{key:t.key||a,class:(0,n.C4)([0===a?"rounded-th-left":"",a===o.columns.length-1?"rounded-th-right":"",t.width||t.minWidth,t.class||""]),style:(0,n.Tr)(d.getColumnStyle(t)),role:t.sortable?"button":null,tabindex:t.sortable?0:null,scope:"col",onClick:o=>!0===t.sortable?e.$emit("sort",t.key):null,onKeyup:(0,s.jR)(o=>!0===t.sortable?e.$emit("sort",t.key):null,["enter"])},[(0,i.Lk)("span",{class:(0,n.C4)(["org-th-content",t.sortable?"org-th-sortable":"",o.activeSortKey===t.key?"sorted":""])},[(0,i.eW)((0,n.v_)(t.label)+" ",1),!0===t.sortable?((0,i.uX)(),(0,i.CE)("img",{key:0,src:r,class:(0,n.C4)(["org-th-sort",o.activeSortKey===t.key?o.sortAsc?"asc":"desc":""]),alt:"Sort"},null,2)):(0,i.Q3)("",!0)],2)],46,l))),128))])])],64)}const c={name:"TableHeader",emits:["sort"],props:{columns:{type:Array,required:!0},activeSortKey:{type:String,default:null},sortAsc:{type:Boolean,default:!0}},methods:{getColumnStyle(e){let t={};if(e.width&&(t.width="number"===typeof e.width?e.width+"px":e.width),e.minWidth&&(t.minWidth="number"===typeof e.minWidth?e.minWidth+"px":e.minWidth),e.style){const o=e.style.split(";").filter(e=>e.trim());o.forEach(e=>{const[o,i]=e.split(":").map(e=>e.trim());if(o&&i){const e=o.replace(/-([a-z])/g,e=>e[1].toUpperCase());t[e]=i}})}return Object.keys(t).length>0?t:null}}};var d=o(6262);const p=(0,d.A)(c,[["render",a],["__scopeId","data-v-9953bdcc"]]),u=p}}]);
//# sourceMappingURL=314.d5c9647b.js.map